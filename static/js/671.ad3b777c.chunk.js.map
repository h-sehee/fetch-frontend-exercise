{"version":3,"file":"static/js/671.ad3b777c.chunk.js","mappings":"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","sources":["../node_modules/@chakra-ui/react/dist/esm/transition/fade.mjs","../node_modules/@chakra-ui/react/dist/esm/modal/modal-overlay.mjs","../node_modules/@chakra-ui/react/dist/esm/transition/transition-utils.mjs","../node_modules/@chakra-ui/react/dist/esm/modal/modal-manager.mjs","../node_modules/@chakra-ui/react/dist/esm/modal/modal-close-button.mjs","../node_modules/aria-hidden/dist/es2015/index.js","../node_modules/@chakra-ui/react/dist/esm/modal/use-modal.mjs","../node_modules/@chakra-ui/react/dist/esm/modal/modal.mjs","../node_modules/react-remove-scroll-bar/dist/es2015/constants.js","../node_modules/use-callback-ref/dist/es2015/assignRef.js","../node_modules/use-callback-ref/dist/es2015/useMergeRef.js","../node_modules/use-callback-ref/dist/es2015/useRef.js","../node_modules/use-sidecar/dist/es2015/medium.js","../node_modules/react-remove-scroll/dist/es2015/medium.js","../node_modules/react-remove-scroll/dist/es2015/UI.js","../node_modules/use-sidecar/dist/es2015/exports.js","../node_modules/get-nonce/dist/es2015/index.js","../node_modules/react-style-singleton/dist/es2015/singleton.js","../node_modules/react-style-singleton/dist/es2015/component.js","../node_modules/react-style-singleton/dist/es2015/hook.js","../node_modules/react-remove-scroll-bar/dist/es2015/utils.js","../node_modules/react-remove-scroll-bar/dist/es2015/component.js","../node_modules/react-remove-scroll/dist/es2015/aggresiveCapture.js","../node_modules/react-remove-scroll/dist/es2015/handleScroll.js","../node_modules/react-remove-scroll/dist/es2015/SideEffect.js","../node_modules/react-remove-scroll/dist/es2015/sidecar.js","../node_modules/react-remove-scroll/dist/es2015/Combination.js","../node_modules/focus-lock/dist/es2015/constants.js","../node_modules/react-focus-lock/dist/es2015/FocusGuard.js","../node_modules/react-focus-lock/dist/es2015/medium.js","../node_modules/react-focus-lock/dist/es2015/scope.js","../node_modules/react-focus-lock/dist/es2015/Lock.js","../node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","../node_modules/react-clientside-effect/lib/index.es.js","../node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","../node_modules/focus-lock/dist/es2015/utils/array.js","../node_modules/focus-lock/dist/es2015/utils/is.js","../node_modules/focus-lock/dist/es2015/utils/tabOrder.js","../node_modules/focus-lock/dist/es2015/utils/tabUtils.js","../node_modules/focus-lock/dist/es2015/utils/tabbables.js","../node_modules/focus-lock/dist/es2015/utils/DOMutils.js","../node_modules/focus-lock/dist/es2015/utils/getActiveElement.js","../node_modules/focus-lock/dist/es2015/utils/safe.js","../node_modules/focus-lock/dist/es2015/utils/all-affected.js","../node_modules/focus-lock/dist/es2015/focusInside.js","../node_modules/focus-lock/dist/es2015/commands.js","../node_modules/focus-lock/dist/es2015/utils/correctFocus.js","../node_modules/focus-lock/dist/es2015/utils/firstFocus.js","../node_modules/focus-lock/dist/es2015/solver.js","../node_modules/focus-lock/dist/es2015/utils/auto-focus.js","../node_modules/focus-lock/dist/es2015/utils/parenting.js","../node_modules/focus-lock/dist/es2015/focusSolver.js","../node_modules/focus-lock/dist/es2015/moveFocusInside.js","../node_modules/focus-lock/dist/es2015/return-focus.js","../node_modules/focus-lock/dist/es2015/sibling.js","../node_modules/react-focus-lock/dist/es2015/util.js","../node_modules/react-focus-lock/dist/es2015/Trap.js","../node_modules/focus-lock/dist/es2015/focusIsHidden.js","../node_modules/focus-lock/dist/es2015/focusables.js","../node_modules/react-focus-lock/dist/es2015/Combination.js","../node_modules/react-focus-lock/dist/es2015/index.js","../node_modules/@chakra-ui/react/node_modules/@chakra-ui/utils/dist/esm/focusable.mjs","../node_modules/@chakra-ui/react/dist/esm/focus-lock/focus-lock.mjs","../node_modules/@chakra-ui/react/dist/esm/modal/modal-focus.mjs"],"sourcesContent":["'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { cx } from '@chakra-ui/utils';\nimport { AnimatePresence, motion } from 'framer-motion';\nimport { forwardRef } from 'react';\nimport { withDelay, TRANSITION_DEFAULTS } from './transition-utils.mjs';\n\nconst variants = {\n  enter: ({ transition, transitionEnd, delay } = {}) => ({\n    opacity: 1,\n    transition: transition?.enter ?? withDelay.enter(TRANSITION_DEFAULTS.enter, delay),\n    transitionEnd: transitionEnd?.enter\n  }),\n  exit: ({ transition, transitionEnd, delay } = {}) => ({\n    opacity: 0,\n    transition: transition?.exit ?? withDelay.exit(TRANSITION_DEFAULTS.exit, delay),\n    transitionEnd: transitionEnd?.exit\n  })\n};\nconst fadeConfig = {\n  initial: \"exit\",\n  animate: \"enter\",\n  exit: \"exit\",\n  variants\n};\nconst Fade = forwardRef(\n  function Fade2(props, ref) {\n    const {\n      unmountOnExit,\n      in: isOpen,\n      className,\n      transition,\n      transitionEnd,\n      delay,\n      animatePresenceProps,\n      ...rest\n    } = props;\n    const animate = isOpen || unmountOnExit ? \"enter\" : \"exit\";\n    const show = unmountOnExit ? isOpen && unmountOnExit : true;\n    const custom = { transition, transitionEnd, delay };\n    return /* @__PURE__ */ jsx(AnimatePresence, { ...animatePresenceProps, custom, children: show && /* @__PURE__ */ jsx(\n      motion.div,\n      {\n        ref,\n        className: cx(\"chakra-fade\", className),\n        custom,\n        ...fadeConfig,\n        animate,\n        ...rest\n      }\n    ) });\n  }\n);\nFade.displayName = \"Fade\";\n\nexport { Fade, fadeConfig };\n","'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { cx } from '@chakra-ui/utils';\nimport { motion } from 'framer-motion';\nimport { useModalStyles, useModalContext } from './modal.mjs';\nimport { fadeConfig } from '../transition/fade.mjs';\nimport { chakra } from '../system/factory.mjs';\nimport { forwardRef } from '../system/forward-ref.mjs';\n\nconst MotionDiv = chakra(motion.div);\nconst ModalOverlay = forwardRef(\n  (props, ref) => {\n    const { className, transition, motionProps: _motionProps, ...rest } = props;\n    const _className = cx(\"chakra-modal__overlay\", className);\n    const styles = useModalStyles();\n    const overlayStyle = {\n      pos: \"fixed\",\n      left: \"0\",\n      top: \"0\",\n      w: \"100vw\",\n      h: \"100vh\",\n      ...styles.overlay\n    };\n    const { motionPreset } = useModalContext();\n    const defaultMotionProps = motionPreset === \"none\" ? {} : fadeConfig;\n    const motionProps = _motionProps || defaultMotionProps;\n    return /* @__PURE__ */ jsx(\n      MotionDiv,\n      {\n        ...motionProps,\n        __css: overlayStyle,\n        ref,\n        className: _className,\n        ...rest\n      }\n    );\n  }\n);\nModalOverlay.displayName = \"ModalOverlay\";\n\nexport { ModalOverlay };\n","'use client';\nconst TRANSITION_EASINGS = {\n  ease: [0.25, 0.1, 0.25, 1],\n  easeIn: [0.4, 0, 1, 1],\n  easeOut: [0, 0, 0.2, 1],\n  easeInOut: [0.4, 0, 0.2, 1]\n};\nconst TRANSITION_VARIANTS = {\n  scale: {\n    enter: { scale: 1 },\n    exit: { scale: 0.95 }\n  },\n  fade: {\n    enter: { opacity: 1 },\n    exit: { opacity: 0 }\n  },\n  pushLeft: {\n    enter: { x: \"100%\" },\n    exit: { x: \"-30%\" }\n  },\n  pushRight: {\n    enter: { x: \"-100%\" },\n    exit: { x: \"30%\" }\n  },\n  pushUp: {\n    enter: { y: \"100%\" },\n    exit: { y: \"-30%\" }\n  },\n  pushDown: {\n    enter: { y: \"-100%\" },\n    exit: { y: \"30%\" }\n  },\n  slideLeft: {\n    position: { left: 0, top: 0, bottom: 0, width: \"100%\" },\n    enter: { x: 0, y: 0 },\n    exit: { x: \"-100%\", y: 0 }\n  },\n  slideRight: {\n    position: { right: 0, top: 0, bottom: 0, width: \"100%\" },\n    enter: { x: 0, y: 0 },\n    exit: { x: \"100%\", y: 0 }\n  },\n  slideUp: {\n    position: { top: 0, left: 0, right: 0, maxWidth: \"100vw\" },\n    enter: { x: 0, y: 0 },\n    exit: { x: 0, y: \"-100%\" }\n  },\n  slideDown: {\n    position: { bottom: 0, left: 0, right: 0, maxWidth: \"100vw\" },\n    enter: { x: 0, y: 0 },\n    exit: { x: 0, y: \"100%\" }\n  }\n};\nfunction getSlideTransition(options) {\n  const side = options?.direction ?? \"right\";\n  switch (side) {\n    case \"right\":\n      return TRANSITION_VARIANTS.slideRight;\n    case \"left\":\n      return TRANSITION_VARIANTS.slideLeft;\n    case \"bottom\":\n      return TRANSITION_VARIANTS.slideDown;\n    case \"top\":\n      return TRANSITION_VARIANTS.slideUp;\n    default:\n      return TRANSITION_VARIANTS.slideRight;\n  }\n}\nconst TRANSITION_DEFAULTS = {\n  enter: {\n    duration: 0.2,\n    ease: TRANSITION_EASINGS.easeOut\n  },\n  exit: {\n    duration: 0.1,\n    ease: TRANSITION_EASINGS.easeIn\n  }\n};\nconst withDelay = {\n  enter: (transition, delay) => ({\n    ...transition,\n    delay: typeof delay === \"number\" ? delay : delay?.[\"enter\"]\n  }),\n  exit: (transition, delay) => ({\n    ...transition,\n    delay: typeof delay === \"number\" ? delay : delay?.[\"exit\"]\n  })\n};\n\nexport { TRANSITION_DEFAULTS, TRANSITION_EASINGS, TRANSITION_VARIANTS, getSlideTransition, withDelay };\n","'use client';\nimport { useState, useEffect } from 'react';\n\nvar __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nclass ModalManager {\n  constructor() {\n    __publicField(this, \"modals\");\n    this.modals = /* @__PURE__ */ new Set();\n  }\n  add(modal) {\n    this.modals.add(modal);\n    return this.modals.size;\n  }\n  remove(modal) {\n    this.modals.delete(modal);\n  }\n  isTopModal(modal) {\n    if (!modal)\n      return false;\n    const topModal = Array.from(this.modals)[this.modals.size - 1];\n    return modal === topModal;\n  }\n}\nconst modalManager = new ModalManager();\nfunction useModalManager(ref, isOpen) {\n  const [index, setIndex] = useState(0);\n  useEffect(() => {\n    const node = ref.current;\n    if (!node)\n      return;\n    if (isOpen) {\n      const index2 = modalManager.add(node);\n      setIndex(index2);\n    }\n    return () => {\n      modalManager.remove(node);\n      setIndex(0);\n    };\n  }, [isOpen, ref]);\n  return index;\n}\n\nexport { modalManager, useModalManager };\n","'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { cx, callAllHandlers } from '@chakra-ui/utils';\nimport { useModalContext, useModalStyles } from './modal.mjs';\nimport { CloseButton } from '../close-button/close-button.mjs';\nimport { forwardRef } from '../system/forward-ref.mjs';\n\nconst ModalCloseButton = forwardRef(\n  (props, ref) => {\n    const { onClick, className, ...rest } = props;\n    const { onClose } = useModalContext();\n    const _className = cx(\"chakra-modal__close-btn\", className);\n    const styles = useModalStyles();\n    return /* @__PURE__ */ jsx(\n      CloseButton,\n      {\n        ref,\n        __css: styles.closeButton,\n        className: _className,\n        onClick: callAllHandlers(onClick, (event) => {\n          event.stopPropagation();\n          onClose();\n        }),\n        ...rest\n      }\n    );\n  }\n);\nModalCloseButton.displayName = \"ModalCloseButton\";\n\nexport { ModalCloseButton };\n","var getDefaultParent = function (originalTarget) {\n    if (typeof document === 'undefined') {\n        return null;\n    }\n    var sampleTarget = Array.isArray(originalTarget) ? originalTarget[0] : originalTarget;\n    return sampleTarget.ownerDocument.body;\n};\nvar counterMap = new WeakMap();\nvar uncontrolledNodes = new WeakMap();\nvar markerMap = {};\nvar lockCount = 0;\nvar unwrapHost = function (node) {\n    return node && (node.host || unwrapHost(node.parentNode));\n};\nvar correctTargets = function (parent, targets) {\n    return targets\n        .map(function (target) {\n        if (parent.contains(target)) {\n            return target;\n        }\n        var correctedTarget = unwrapHost(target);\n        if (correctedTarget && parent.contains(correctedTarget)) {\n            return correctedTarget;\n        }\n        console.error('aria-hidden', target, 'in not contained inside', parent, '. Doing nothing');\n        return null;\n    })\n        .filter(function (x) { return Boolean(x); });\n};\n/**\n * Marks everything except given node(or nodes) as aria-hidden\n * @param {Element | Element[]} originalTarget - elements to keep on the page\n * @param [parentNode] - top element, defaults to document.body\n * @param {String} [markerName] - a special attribute to mark every node\n * @param {String} [controlAttribute] - html Attribute to control\n * @return {Undo} undo command\n */\nvar applyAttributeToOthers = function (originalTarget, parentNode, markerName, controlAttribute) {\n    var targets = correctTargets(parentNode, Array.isArray(originalTarget) ? originalTarget : [originalTarget]);\n    if (!markerMap[markerName]) {\n        markerMap[markerName] = new WeakMap();\n    }\n    var markerCounter = markerMap[markerName];\n    var hiddenNodes = [];\n    var elementsToKeep = new Set();\n    var elementsToStop = new Set(targets);\n    var keep = function (el) {\n        if (!el || elementsToKeep.has(el)) {\n            return;\n        }\n        elementsToKeep.add(el);\n        keep(el.parentNode);\n    };\n    targets.forEach(keep);\n    var deep = function (parent) {\n        if (!parent || elementsToStop.has(parent)) {\n            return;\n        }\n        Array.prototype.forEach.call(parent.children, function (node) {\n            if (elementsToKeep.has(node)) {\n                deep(node);\n            }\n            else {\n                try {\n                    var attr = node.getAttribute(controlAttribute);\n                    var alreadyHidden = attr !== null && attr !== 'false';\n                    var counterValue = (counterMap.get(node) || 0) + 1;\n                    var markerValue = (markerCounter.get(node) || 0) + 1;\n                    counterMap.set(node, counterValue);\n                    markerCounter.set(node, markerValue);\n                    hiddenNodes.push(node);\n                    if (counterValue === 1 && alreadyHidden) {\n                        uncontrolledNodes.set(node, true);\n                    }\n                    if (markerValue === 1) {\n                        node.setAttribute(markerName, 'true');\n                    }\n                    if (!alreadyHidden) {\n                        node.setAttribute(controlAttribute, 'true');\n                    }\n                }\n                catch (e) {\n                    console.error('aria-hidden: cannot operate on ', node, e);\n                }\n            }\n        });\n    };\n    deep(parentNode);\n    elementsToKeep.clear();\n    lockCount++;\n    return function () {\n        hiddenNodes.forEach(function (node) {\n            var counterValue = counterMap.get(node) - 1;\n            var markerValue = markerCounter.get(node) - 1;\n            counterMap.set(node, counterValue);\n            markerCounter.set(node, markerValue);\n            if (!counterValue) {\n                if (!uncontrolledNodes.has(node)) {\n                    node.removeAttribute(controlAttribute);\n                }\n                uncontrolledNodes.delete(node);\n            }\n            if (!markerValue) {\n                node.removeAttribute(markerName);\n            }\n        });\n        lockCount--;\n        if (!lockCount) {\n            // clear\n            counterMap = new WeakMap();\n            counterMap = new WeakMap();\n            uncontrolledNodes = new WeakMap();\n            markerMap = {};\n        }\n    };\n};\n/**\n * Marks everything except given node(or nodes) as aria-hidden\n * @param {Element | Element[]} originalTarget - elements to keep on the page\n * @param [parentNode] - top element, defaults to document.body\n * @param {String} [markerName] - a special attribute to mark every node\n * @return {Undo} undo command\n */\nexport var hideOthers = function (originalTarget, parentNode, markerName) {\n    if (markerName === void 0) { markerName = 'data-aria-hidden'; }\n    var targets = Array.from(Array.isArray(originalTarget) ? originalTarget : [originalTarget]);\n    var activeParentNode = parentNode || getDefaultParent(originalTarget);\n    if (!activeParentNode) {\n        return function () { return null; };\n    }\n    // we should not hide aria-live elements - https://github.com/theKashey/aria-hidden/issues/10\n    // and script elements, as they have no impact on accessibility.\n    targets.push.apply(targets, Array.from(activeParentNode.querySelectorAll('[aria-live], script')));\n    return applyAttributeToOthers(targets, activeParentNode, markerName, 'aria-hidden');\n};\n/**\n * Marks everything except given node(or nodes) as inert\n * @param {Element | Element[]} originalTarget - elements to keep on the page\n * @param [parentNode] - top element, defaults to document.body\n * @param {String} [markerName] - a special attribute to mark every node\n * @return {Undo} undo command\n */\nexport var inertOthers = function (originalTarget, parentNode, markerName) {\n    if (markerName === void 0) { markerName = 'data-inert-ed'; }\n    var activeParentNode = parentNode || getDefaultParent(originalTarget);\n    if (!activeParentNode) {\n        return function () { return null; };\n    }\n    return applyAttributeToOthers(originalTarget, activeParentNode, markerName, 'inert');\n};\n/**\n * @returns if current browser supports inert\n */\nexport var supportsInert = function () {\n    return typeof HTMLElement !== 'undefined' && HTMLElement.prototype.hasOwnProperty('inert');\n};\n/**\n * Automatic function to \"suppress\" DOM elements - _hide_ or _inert_ in the best possible way\n * @param {Element | Element[]} originalTarget - elements to keep on the page\n * @param [parentNode] - top element, defaults to document.body\n * @param {String} [markerName] - a special attribute to mark every node\n * @return {Undo} undo command\n */\nexport var suppressOthers = function (originalTarget, parentNode, markerName) {\n    if (markerName === void 0) { markerName = 'data-suppressed'; }\n    return (supportsInert() ? inertOthers : hideOthers)(originalTarget, parentNode, markerName);\n};\n","'use client';\nimport { mergeRefs } from '@chakra-ui/hooks';\nimport { callAllHandlers } from '@chakra-ui/utils';\nimport { hideOthers } from 'aria-hidden';\nimport { useRef, useCallback, useState, useEffect, useId, useMemo } from 'react';\nimport { useModalManager, modalManager } from './modal-manager.mjs';\n\nfunction useModal(props) {\n  const {\n    isOpen,\n    onClose,\n    id,\n    closeOnOverlayClick = true,\n    closeOnEsc = true,\n    useInert = true,\n    onOverlayClick: onOverlayClickProp,\n    onEsc\n  } = props;\n  const dialogRef = useRef(null);\n  const overlayRef = useRef(null);\n  const [dialogId, headerId, bodyId] = useIds(\n    id,\n    `chakra-modal`,\n    `chakra-modal--header`,\n    `chakra-modal--body`\n  );\n  useAriaHidden(dialogRef, isOpen && useInert);\n  const index = useModalManager(dialogRef, isOpen);\n  const mouseDownTarget = useRef(null);\n  const onMouseDown = useCallback((event) => {\n    mouseDownTarget.current = event.target;\n  }, []);\n  const onKeyDown = useCallback(\n    (event) => {\n      if (event.key === \"Escape\") {\n        event.stopPropagation();\n        if (closeOnEsc) {\n          onClose?.();\n        }\n        onEsc?.();\n      }\n    },\n    [closeOnEsc, onClose, onEsc]\n  );\n  const [headerMounted, setHeaderMounted] = useState(false);\n  const [bodyMounted, setBodyMounted] = useState(false);\n  const getDialogProps = useCallback(\n    (props2 = {}, ref = null) => ({\n      role: \"dialog\",\n      ...props2,\n      ref: mergeRefs(ref, dialogRef),\n      id: dialogId,\n      tabIndex: -1,\n      \"aria-modal\": true,\n      \"aria-labelledby\": headerMounted ? headerId : void 0,\n      \"aria-describedby\": bodyMounted ? bodyId : void 0,\n      onClick: callAllHandlers(\n        props2.onClick,\n        (event) => event.stopPropagation()\n      )\n    }),\n    [bodyId, bodyMounted, dialogId, headerId, headerMounted]\n  );\n  const onOverlayClick = useCallback(\n    (event) => {\n      event.stopPropagation();\n      if (mouseDownTarget.current !== event.target)\n        return;\n      if (!modalManager.isTopModal(dialogRef.current))\n        return;\n      if (closeOnOverlayClick) {\n        onClose?.();\n      }\n      onOverlayClickProp?.();\n    },\n    [onClose, closeOnOverlayClick, onOverlayClickProp]\n  );\n  const getDialogContainerProps = useCallback(\n    (props2 = {}, ref = null) => ({\n      ...props2,\n      ref: mergeRefs(ref, overlayRef),\n      onClick: callAllHandlers(props2.onClick, onOverlayClick),\n      onKeyDown: callAllHandlers(props2.onKeyDown, onKeyDown),\n      onMouseDown: callAllHandlers(props2.onMouseDown, onMouseDown)\n    }),\n    [onKeyDown, onMouseDown, onOverlayClick]\n  );\n  return {\n    isOpen,\n    onClose,\n    headerId,\n    bodyId,\n    setBodyMounted,\n    setHeaderMounted,\n    dialogRef,\n    overlayRef,\n    getDialogProps,\n    getDialogContainerProps,\n    index\n  };\n}\nfunction useAriaHidden(ref, shouldHide) {\n  const currentElement = ref.current;\n  useEffect(() => {\n    if (!ref.current || !shouldHide)\n      return void 0;\n    return hideOthers(ref.current);\n  }, [shouldHide, ref, currentElement]);\n}\nfunction useIds(idProp, ...prefixes) {\n  const reactId = useId();\n  const id = idProp || reactId;\n  return useMemo(() => {\n    return prefixes.map((prefix) => `${prefix}-${id}`);\n  }, [id, prefixes]);\n}\n\nexport { useAriaHidden, useModal };\n","'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { createContext } from '@chakra-ui/utils';\nimport { AnimatePresence } from 'framer-motion';\nimport { useModal } from './use-modal.mjs';\nimport { Portal } from '../portal/portal.mjs';\nimport { useMultiStyleConfig } from '../system/use-style-config.mjs';\n\nconst [ModalStylesProvider, useModalStyles] = createContext({\n  name: `ModalStylesContext`,\n  errorMessage: `useModalStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<Modal />\" `\n});\nconst [ModalContextProvider, useModalContext] = createContext({\n  strict: true,\n  name: \"ModalContext\",\n  errorMessage: \"useModalContext: `context` is undefined. Seems you forgot to wrap modal components in `<Modal />`\"\n});\nconst Modal = (props) => {\n  const modalProps = {\n    scrollBehavior: \"outside\",\n    autoFocus: true,\n    trapFocus: true,\n    returnFocusOnClose: true,\n    blockScrollOnMount: true,\n    allowPinchZoom: false,\n    preserveScrollBarGap: true,\n    motionPreset: \"scale\",\n    ...props,\n    lockFocusAcrossFrames: props.lockFocusAcrossFrames ?? true\n  };\n  const {\n    portalProps,\n    children,\n    autoFocus,\n    trapFocus,\n    initialFocusRef,\n    finalFocusRef,\n    returnFocusOnClose,\n    blockScrollOnMount,\n    allowPinchZoom,\n    preserveScrollBarGap,\n    motionPreset,\n    lockFocusAcrossFrames,\n    animatePresenceProps,\n    onCloseComplete\n  } = modalProps;\n  const styles = useMultiStyleConfig(\"Modal\", modalProps);\n  const modal = useModal(modalProps);\n  const context = {\n    ...modal,\n    autoFocus,\n    trapFocus,\n    initialFocusRef,\n    finalFocusRef,\n    returnFocusOnClose,\n    blockScrollOnMount,\n    allowPinchZoom,\n    preserveScrollBarGap,\n    motionPreset,\n    lockFocusAcrossFrames\n  };\n  return /* @__PURE__ */ jsx(ModalContextProvider, { value: context, children: /* @__PURE__ */ jsx(ModalStylesProvider, { value: styles, children: /* @__PURE__ */ jsx(\n    AnimatePresence,\n    {\n      ...animatePresenceProps,\n      onExitComplete: onCloseComplete,\n      children: context.isOpen && /* @__PURE__ */ jsx(Portal, { ...portalProps, children })\n    }\n  ) }) });\n};\nModal.displayName = \"Modal\";\n\nexport { Modal, ModalContextProvider, useModalContext, useModalStyles };\n","export var zeroRightClassName = 'right-scroll-bar-position';\nexport var fullWidthClassName = 'width-before-scroll-bar';\nexport var noScrollbarsClassName = 'with-scroll-bars-hidden';\n/**\n * Name of a CSS variable containing the amount of \"hidden\" scrollbar\n * ! might be undefined ! use will fallback!\n */\nexport var removedBarSizeVariable = '--removed-body-scroll-bar-size';\n","/**\n * Assigns a value for a given ref, no matter of the ref format\n * @param {RefObject} ref - a callback function or ref object\n * @param value - a new value\n *\n * @see https://github.com/theKashey/use-callback-ref#assignref\n * @example\n * const refObject = useRef();\n * const refFn = (ref) => {....}\n *\n * assignRef(refObject, \"refValue\");\n * assignRef(refFn, \"refValue\");\n */\nexport function assignRef(ref, value) {\n    if (typeof ref === 'function') {\n        ref(value);\n    }\n    else if (ref) {\n        ref.current = value;\n    }\n    return ref;\n}\n","import * as React from 'react';\nimport { assignRef } from './assignRef';\nimport { useCallbackRef } from './useRef';\nvar useIsomorphicLayoutEffect = typeof window !== 'undefined' ? React.useLayoutEffect : React.useEffect;\nvar currentValues = new WeakMap();\n/**\n * Merges two or more refs together providing a single interface to set their value\n * @param {RefObject|Ref} refs\n * @returns {MutableRefObject} - a new ref, which translates all changes to {refs}\n *\n * @see {@link mergeRefs} a version without buit-in memoization\n * @see https://github.com/theKashey/use-callback-ref#usemergerefs\n * @example\n * const Component = React.forwardRef((props, ref) => {\n *   const ownRef = useRef();\n *   const domRef = useMergeRefs([ref, ownRef]); // 👈 merge together\n *   return <div ref={domRef}>...</div>\n * }\n */\nexport function useMergeRefs(refs, defaultValue) {\n    var callbackRef = useCallbackRef(defaultValue || null, function (newValue) {\n        return refs.forEach(function (ref) { return assignRef(ref, newValue); });\n    });\n    // handle refs changes - added or removed\n    useIsomorphicLayoutEffect(function () {\n        var oldValue = currentValues.get(callbackRef);\n        if (oldValue) {\n            var prevRefs_1 = new Set(oldValue);\n            var nextRefs_1 = new Set(refs);\n            var current_1 = callbackRef.current;\n            prevRefs_1.forEach(function (ref) {\n                if (!nextRefs_1.has(ref)) {\n                    assignRef(ref, null);\n                }\n            });\n            nextRefs_1.forEach(function (ref) {\n                if (!prevRefs_1.has(ref)) {\n                    assignRef(ref, current_1);\n                }\n            });\n        }\n        currentValues.set(callbackRef, refs);\n    }, [refs]);\n    return callbackRef;\n}\n","import { useState } from 'react';\n/**\n * creates a MutableRef with ref change callback\n * @param initialValue - initial ref value\n * @param {Function} callback - a callback to run when value changes\n *\n * @example\n * const ref = useCallbackRef(0, (newValue, oldValue) => console.log(oldValue, '->', newValue);\n * ref.current = 1;\n * // prints 0 -> 1\n *\n * @see https://reactjs.org/docs/hooks-reference.html#useref\n * @see https://github.com/theKashey/use-callback-ref#usecallbackref---to-replace-reactuseref\n * @returns {MutableRefObject}\n */\nexport function useCallbackRef(initialValue, callback) {\n    var ref = useState(function () { return ({\n        // value\n        value: initialValue,\n        // last callback\n        callback: callback,\n        // \"memoized\" public interface\n        facade: {\n            get current() {\n                return ref.value;\n            },\n            set current(value) {\n                var last = ref.value;\n                if (last !== value) {\n                    ref.value = value;\n                    ref.callback(value, last);\n                }\n            },\n        },\n    }); })[0];\n    // update callback\n    ref.callback = callback;\n    return ref.facade;\n}\n","import { __assign } from \"tslib\";\nfunction ItoI(a) {\n    return a;\n}\nfunction innerCreateMedium(defaults, middleware) {\n    if (middleware === void 0) { middleware = ItoI; }\n    var buffer = [];\n    var assigned = false;\n    var medium = {\n        read: function () {\n            if (assigned) {\n                throw new Error('Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.');\n            }\n            if (buffer.length) {\n                return buffer[buffer.length - 1];\n            }\n            return defaults;\n        },\n        useMedium: function (data) {\n            var item = middleware(data, assigned);\n            buffer.push(item);\n            return function () {\n                buffer = buffer.filter(function (x) { return x !== item; });\n            };\n        },\n        assignSyncMedium: function (cb) {\n            assigned = true;\n            while (buffer.length) {\n                var cbs = buffer;\n                buffer = [];\n                cbs.forEach(cb);\n            }\n            buffer = {\n                push: function (x) { return cb(x); },\n                filter: function () { return buffer; },\n            };\n        },\n        assignMedium: function (cb) {\n            assigned = true;\n            var pendingQueue = [];\n            if (buffer.length) {\n                var cbs = buffer;\n                buffer = [];\n                cbs.forEach(cb);\n                pendingQueue = buffer;\n            }\n            var executeQueue = function () {\n                var cbs = pendingQueue;\n                pendingQueue = [];\n                cbs.forEach(cb);\n            };\n            var cycle = function () { return Promise.resolve().then(executeQueue); };\n            cycle();\n            buffer = {\n                push: function (x) {\n                    pendingQueue.push(x);\n                    cycle();\n                },\n                filter: function (filter) {\n                    pendingQueue = pendingQueue.filter(filter);\n                    return buffer;\n                },\n            };\n        },\n    };\n    return medium;\n}\nexport function createMedium(defaults, middleware) {\n    if (middleware === void 0) { middleware = ItoI; }\n    return innerCreateMedium(defaults, middleware);\n}\n// eslint-disable-next-line @typescript-eslint/ban-types\nexport function createSidecarMedium(options) {\n    if (options === void 0) { options = {}; }\n    var medium = innerCreateMedium(null);\n    medium.options = __assign({ async: true, ssr: false }, options);\n    return medium;\n}\n","import { createSidecarMedium } from 'use-sidecar';\nexport var effectCar = createSidecarMedium();\n","import { __assign, __rest } from \"tslib\";\nimport * as React from 'react';\nimport { fullWidthClassName, zeroRightClassName } from 'react-remove-scroll-bar/constants';\nimport { useMergeRefs } from 'use-callback-ref';\nimport { effectCar } from './medium';\nvar nothing = function () {\n    return;\n};\n/**\n * Removes scrollbar from the page and contain the scroll within the Lock\n */\nvar RemoveScroll = React.forwardRef(function (props, parentRef) {\n    var ref = React.useRef(null);\n    var _a = React.useState({\n        onScrollCapture: nothing,\n        onWheelCapture: nothing,\n        onTouchMoveCapture: nothing,\n    }), callbacks = _a[0], setCallbacks = _a[1];\n    var forwardProps = props.forwardProps, children = props.children, className = props.className, removeScrollBar = props.removeScrollBar, enabled = props.enabled, shards = props.shards, sideCar = props.sideCar, noRelative = props.noRelative, noIsolation = props.noIsolation, inert = props.inert, allowPinchZoom = props.allowPinchZoom, _b = props.as, Container = _b === void 0 ? 'div' : _b, gapMode = props.gapMode, rest = __rest(props, [\"forwardProps\", \"children\", \"className\", \"removeScrollBar\", \"enabled\", \"shards\", \"sideCar\", \"noRelative\", \"noIsolation\", \"inert\", \"allowPinchZoom\", \"as\", \"gapMode\"]);\n    var SideCar = sideCar;\n    var containerRef = useMergeRefs([ref, parentRef]);\n    var containerProps = __assign(__assign({}, rest), callbacks);\n    return (React.createElement(React.Fragment, null,\n        enabled && (React.createElement(SideCar, { sideCar: effectCar, removeScrollBar: removeScrollBar, shards: shards, noRelative: noRelative, noIsolation: noIsolation, inert: inert, setCallbacks: setCallbacks, allowPinchZoom: !!allowPinchZoom, lockRef: ref, gapMode: gapMode })),\n        forwardProps ? (React.cloneElement(React.Children.only(children), __assign(__assign({}, containerProps), { ref: containerRef }))) : (React.createElement(Container, __assign({}, containerProps, { className: className, ref: containerRef }), children))));\n});\nRemoveScroll.defaultProps = {\n    enabled: true,\n    removeScrollBar: true,\n    inert: false,\n};\nRemoveScroll.classNames = {\n    fullWidth: fullWidthClassName,\n    zeroRight: zeroRightClassName,\n};\nexport { RemoveScroll };\n","import { __assign, __rest } from \"tslib\";\nimport * as React from 'react';\nvar SideCar = function (_a) {\n    var sideCar = _a.sideCar, rest = __rest(_a, [\"sideCar\"]);\n    if (!sideCar) {\n        throw new Error('Sidecar: please provide `sideCar` property to import the right car');\n    }\n    var Target = sideCar.read();\n    if (!Target) {\n        throw new Error('Sidecar medium not found');\n    }\n    return React.createElement(Target, __assign({}, rest));\n};\nSideCar.isSideCarExport = true;\nexport function exportSidecar(medium, exported) {\n    medium.useMedium(exported);\n    return SideCar;\n}\n","var currentNonce;\nexport var setNonce = function (nonce) {\n    currentNonce = nonce;\n};\nexport var getNonce = function () {\n    if (currentNonce) {\n        return currentNonce;\n    }\n    if (typeof __webpack_nonce__ !== 'undefined') {\n        return __webpack_nonce__;\n    }\n    return undefined;\n};\n","import { getNonce } from 'get-nonce';\nfunction makeStyleTag() {\n    if (!document)\n        return null;\n    var tag = document.createElement('style');\n    tag.type = 'text/css';\n    var nonce = getNonce();\n    if (nonce) {\n        tag.setAttribute('nonce', nonce);\n    }\n    return tag;\n}\nfunction injectStyles(tag, css) {\n    // @ts-ignore\n    if (tag.styleSheet) {\n        // @ts-ignore\n        tag.styleSheet.cssText = css;\n    }\n    else {\n        tag.appendChild(document.createTextNode(css));\n    }\n}\nfunction insertStyleTag(tag) {\n    var head = document.head || document.getElementsByTagName('head')[0];\n    head.appendChild(tag);\n}\nexport var stylesheetSingleton = function () {\n    var counter = 0;\n    var stylesheet = null;\n    return {\n        add: function (style) {\n            if (counter == 0) {\n                if ((stylesheet = makeStyleTag())) {\n                    injectStyles(stylesheet, style);\n                    insertStyleTag(stylesheet);\n                }\n            }\n            counter++;\n        },\n        remove: function () {\n            counter--;\n            if (!counter && stylesheet) {\n                stylesheet.parentNode && stylesheet.parentNode.removeChild(stylesheet);\n                stylesheet = null;\n            }\n        },\n    };\n};\n","import { styleHookSingleton } from './hook';\n/**\n * create a Component to add styles on demand\n * - styles are added when first instance is mounted\n * - styles are removed when the last instance is unmounted\n * - changing styles in runtime does nothing unless dynamic is set. But with multiple components that can lead to the undefined behavior\n */\nexport var styleSingleton = function () {\n    var useStyle = styleHookSingleton();\n    var Sheet = function (_a) {\n        var styles = _a.styles, dynamic = _a.dynamic;\n        useStyle(styles, dynamic);\n        return null;\n    };\n    return Sheet;\n};\n","import * as React from 'react';\nimport { stylesheetSingleton } from './singleton';\n/**\n * creates a hook to control style singleton\n * @see {@link styleSingleton} for a safer component version\n * @example\n * ```tsx\n * const useStyle = styleHookSingleton();\n * ///\n * useStyle('body { overflow: hidden}');\n */\nexport var styleHookSingleton = function () {\n    var sheet = stylesheetSingleton();\n    return function (styles, isDynamic) {\n        React.useEffect(function () {\n            sheet.add(styles);\n            return function () {\n                sheet.remove();\n            };\n        }, [styles && isDynamic]);\n    };\n};\n","export var zeroGap = {\n    left: 0,\n    top: 0,\n    right: 0,\n    gap: 0,\n};\nvar parse = function (x) { return parseInt(x || '', 10) || 0; };\nvar getOffset = function (gapMode) {\n    var cs = window.getComputedStyle(document.body);\n    var left = cs[gapMode === 'padding' ? 'paddingLeft' : 'marginLeft'];\n    var top = cs[gapMode === 'padding' ? 'paddingTop' : 'marginTop'];\n    var right = cs[gapMode === 'padding' ? 'paddingRight' : 'marginRight'];\n    return [parse(left), parse(top), parse(right)];\n};\nexport var getGapWidth = function (gapMode) {\n    if (gapMode === void 0) { gapMode = 'margin'; }\n    if (typeof window === 'undefined') {\n        return zeroGap;\n    }\n    var offsets = getOffset(gapMode);\n    var documentWidth = document.documentElement.clientWidth;\n    var windowWidth = window.innerWidth;\n    return {\n        left: offsets[0],\n        top: offsets[1],\n        right: offsets[2],\n        gap: Math.max(0, windowWidth - documentWidth + offsets[2] - offsets[0]),\n    };\n};\n","import * as React from 'react';\nimport { styleSingleton } from 'react-style-singleton';\nimport { fullWidthClassName, zeroRightClassName, noScrollbarsClassName, removedBarSizeVariable } from './constants';\nimport { getGapWidth } from './utils';\nvar Style = styleSingleton();\nexport var lockAttribute = 'data-scroll-locked';\n// important tip - once we measure scrollBar width and remove them\n// we could not repeat this operation\n// thus we are using style-singleton - only the first \"yet correct\" style will be applied.\nvar getStyles = function (_a, allowRelative, gapMode, important) {\n    var left = _a.left, top = _a.top, right = _a.right, gap = _a.gap;\n    if (gapMode === void 0) { gapMode = 'margin'; }\n    return \"\\n  .\".concat(noScrollbarsClassName, \" {\\n   overflow: hidden \").concat(important, \";\\n   padding-right: \").concat(gap, \"px \").concat(important, \";\\n  }\\n  body[\").concat(lockAttribute, \"] {\\n    overflow: hidden \").concat(important, \";\\n    overscroll-behavior: contain;\\n    \").concat([\n        allowRelative && \"position: relative \".concat(important, \";\"),\n        gapMode === 'margin' &&\n            \"\\n    padding-left: \".concat(left, \"px;\\n    padding-top: \").concat(top, \"px;\\n    padding-right: \").concat(right, \"px;\\n    margin-left:0;\\n    margin-top:0;\\n    margin-right: \").concat(gap, \"px \").concat(important, \";\\n    \"),\n        gapMode === 'padding' && \"padding-right: \".concat(gap, \"px \").concat(important, \";\"),\n    ]\n        .filter(Boolean)\n        .join(''), \"\\n  }\\n  \\n  .\").concat(zeroRightClassName, \" {\\n    right: \").concat(gap, \"px \").concat(important, \";\\n  }\\n  \\n  .\").concat(fullWidthClassName, \" {\\n    margin-right: \").concat(gap, \"px \").concat(important, \";\\n  }\\n  \\n  .\").concat(zeroRightClassName, \" .\").concat(zeroRightClassName, \" {\\n    right: 0 \").concat(important, \";\\n  }\\n  \\n  .\").concat(fullWidthClassName, \" .\").concat(fullWidthClassName, \" {\\n    margin-right: 0 \").concat(important, \";\\n  }\\n  \\n  body[\").concat(lockAttribute, \"] {\\n    \").concat(removedBarSizeVariable, \": \").concat(gap, \"px;\\n  }\\n\");\n};\nvar getCurrentUseCounter = function () {\n    var counter = parseInt(document.body.getAttribute(lockAttribute) || '0', 10);\n    return isFinite(counter) ? counter : 0;\n};\nexport var useLockAttribute = function () {\n    React.useEffect(function () {\n        document.body.setAttribute(lockAttribute, (getCurrentUseCounter() + 1).toString());\n        return function () {\n            var newCounter = getCurrentUseCounter() - 1;\n            if (newCounter <= 0) {\n                document.body.removeAttribute(lockAttribute);\n            }\n            else {\n                document.body.setAttribute(lockAttribute, newCounter.toString());\n            }\n        };\n    }, []);\n};\n/**\n * Removes page scrollbar and blocks page scroll when mounted\n */\nexport var RemoveScrollBar = function (_a) {\n    var noRelative = _a.noRelative, noImportant = _a.noImportant, _b = _a.gapMode, gapMode = _b === void 0 ? 'margin' : _b;\n    useLockAttribute();\n    /*\n     gap will be measured on every component mount\n     however it will be used only by the \"first\" invocation\n     due to singleton nature of <Style\n     */\n    var gap = React.useMemo(function () { return getGapWidth(gapMode); }, [gapMode]);\n    return React.createElement(Style, { styles: getStyles(gap, !noRelative, gapMode, !noImportant ? '!important' : '') });\n};\n","var passiveSupported = false;\nif (typeof window !== 'undefined') {\n    try {\n        var options = Object.defineProperty({}, 'passive', {\n            get: function () {\n                passiveSupported = true;\n                return true;\n            },\n        });\n        // @ts-ignore\n        window.addEventListener('test', options, options);\n        // @ts-ignore\n        window.removeEventListener('test', options, options);\n    }\n    catch (err) {\n        passiveSupported = false;\n    }\n}\nexport var nonPassive = passiveSupported ? { passive: false } : false;\n","var alwaysContainsScroll = function (node) {\n    // textarea will always _contain_ scroll inside self. It only can be hidden\n    return node.tagName === 'TEXTAREA';\n};\nvar elementCanBeScrolled = function (node, overflow) {\n    if (!(node instanceof Element)) {\n        return false;\n    }\n    var styles = window.getComputedStyle(node);\n    return (\n    // not-not-scrollable\n    styles[overflow] !== 'hidden' &&\n        // contains scroll inside self\n        !(styles.overflowY === styles.overflowX && !alwaysContainsScroll(node) && styles[overflow] === 'visible'));\n};\nvar elementCouldBeVScrolled = function (node) { return elementCanBeScrolled(node, 'overflowY'); };\nvar elementCouldBeHScrolled = function (node) { return elementCanBeScrolled(node, 'overflowX'); };\nexport var locationCouldBeScrolled = function (axis, node) {\n    var ownerDocument = node.ownerDocument;\n    var current = node;\n    do {\n        // Skip over shadow root\n        if (typeof ShadowRoot !== 'undefined' && current instanceof ShadowRoot) {\n            current = current.host;\n        }\n        var isScrollable = elementCouldBeScrolled(axis, current);\n        if (isScrollable) {\n            var _a = getScrollVariables(axis, current), scrollHeight = _a[1], clientHeight = _a[2];\n            if (scrollHeight > clientHeight) {\n                return true;\n            }\n        }\n        current = current.parentNode;\n    } while (current && current !== ownerDocument.body);\n    return false;\n};\nvar getVScrollVariables = function (_a) {\n    var scrollTop = _a.scrollTop, scrollHeight = _a.scrollHeight, clientHeight = _a.clientHeight;\n    return [\n        scrollTop,\n        scrollHeight,\n        clientHeight,\n    ];\n};\nvar getHScrollVariables = function (_a) {\n    var scrollLeft = _a.scrollLeft, scrollWidth = _a.scrollWidth, clientWidth = _a.clientWidth;\n    return [\n        scrollLeft,\n        scrollWidth,\n        clientWidth,\n    ];\n};\nvar elementCouldBeScrolled = function (axis, node) {\n    return axis === 'v' ? elementCouldBeVScrolled(node) : elementCouldBeHScrolled(node);\n};\nvar getScrollVariables = function (axis, node) {\n    return axis === 'v' ? getVScrollVariables(node) : getHScrollVariables(node);\n};\nvar getDirectionFactor = function (axis, direction) {\n    /**\n     * If the element's direction is rtl (right-to-left), then scrollLeft is 0 when the scrollbar is at its rightmost position,\n     * and then increasingly negative as you scroll towards the end of the content.\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/Element/scrollLeft\n     */\n    return axis === 'h' && direction === 'rtl' ? -1 : 1;\n};\nexport var handleScroll = function (axis, endTarget, event, sourceDelta, noOverscroll) {\n    var directionFactor = getDirectionFactor(axis, window.getComputedStyle(endTarget).direction);\n    var delta = directionFactor * sourceDelta;\n    // find scrollable target\n    var target = event.target;\n    var targetInLock = endTarget.contains(target);\n    var shouldCancelScroll = false;\n    var isDeltaPositive = delta > 0;\n    var availableScroll = 0;\n    var availableScrollTop = 0;\n    do {\n        if (!target) {\n            break;\n        }\n        var _a = getScrollVariables(axis, target), position = _a[0], scroll_1 = _a[1], capacity = _a[2];\n        var elementScroll = scroll_1 - capacity - directionFactor * position;\n        if (position || elementScroll) {\n            if (elementCouldBeScrolled(axis, target)) {\n                availableScroll += elementScroll;\n                availableScrollTop += position;\n            }\n        }\n        var parent_1 = target.parentNode;\n        // we will \"bubble\" from ShadowDom in case we are, or just to the parent in normal case\n        // this is the same logic used in focus-lock\n        target = (parent_1 && parent_1.nodeType === Node.DOCUMENT_FRAGMENT_NODE ? parent_1.host : parent_1);\n    } while (\n    // portaled content\n    (!targetInLock && target !== document.body) ||\n        // self content\n        (targetInLock && (endTarget.contains(target) || endTarget === target)));\n    // handle epsilon around 0 (non standard zoom levels)\n    if (isDeltaPositive &&\n        ((noOverscroll && Math.abs(availableScroll) < 1) || (!noOverscroll && delta > availableScroll))) {\n        shouldCancelScroll = true;\n    }\n    else if (!isDeltaPositive &&\n        ((noOverscroll && Math.abs(availableScrollTop) < 1) || (!noOverscroll && -delta > availableScrollTop))) {\n        shouldCancelScroll = true;\n    }\n    return shouldCancelScroll;\n};\n","import { __spreadArray } from \"tslib\";\nimport * as React from 'react';\nimport { RemoveScrollBar } from 'react-remove-scroll-bar';\nimport { styleSingleton } from 'react-style-singleton';\nimport { nonPassive } from './aggresiveCapture';\nimport { handleScroll, locationCouldBeScrolled } from './handleScroll';\nexport var getTouchXY = function (event) {\n    return 'changedTouches' in event ? [event.changedTouches[0].clientX, event.changedTouches[0].clientY] : [0, 0];\n};\nexport var getDeltaXY = function (event) { return [event.deltaX, event.deltaY]; };\nvar extractRef = function (ref) {\n    return ref && 'current' in ref ? ref.current : ref;\n};\nvar deltaCompare = function (x, y) { return x[0] === y[0] && x[1] === y[1]; };\nvar generateStyle = function (id) { return \"\\n  .block-interactivity-\".concat(id, \" {pointer-events: none;}\\n  .allow-interactivity-\").concat(id, \" {pointer-events: all;}\\n\"); };\nvar idCounter = 0;\nvar lockStack = [];\nexport function RemoveScrollSideCar(props) {\n    var shouldPreventQueue = React.useRef([]);\n    var touchStartRef = React.useRef([0, 0]);\n    var activeAxis = React.useRef();\n    var id = React.useState(idCounter++)[0];\n    var Style = React.useState(styleSingleton)[0];\n    var lastProps = React.useRef(props);\n    React.useEffect(function () {\n        lastProps.current = props;\n    }, [props]);\n    React.useEffect(function () {\n        if (props.inert) {\n            document.body.classList.add(\"block-interactivity-\".concat(id));\n            var allow_1 = __spreadArray([props.lockRef.current], (props.shards || []).map(extractRef), true).filter(Boolean);\n            allow_1.forEach(function (el) { return el.classList.add(\"allow-interactivity-\".concat(id)); });\n            return function () {\n                document.body.classList.remove(\"block-interactivity-\".concat(id));\n                allow_1.forEach(function (el) { return el.classList.remove(\"allow-interactivity-\".concat(id)); });\n            };\n        }\n        return;\n    }, [props.inert, props.lockRef.current, props.shards]);\n    var shouldCancelEvent = React.useCallback(function (event, parent) {\n        if (('touches' in event && event.touches.length === 2) || (event.type === 'wheel' && event.ctrlKey)) {\n            return !lastProps.current.allowPinchZoom;\n        }\n        var touch = getTouchXY(event);\n        var touchStart = touchStartRef.current;\n        var deltaX = 'deltaX' in event ? event.deltaX : touchStart[0] - touch[0];\n        var deltaY = 'deltaY' in event ? event.deltaY : touchStart[1] - touch[1];\n        var currentAxis;\n        var target = event.target;\n        var moveDirection = Math.abs(deltaX) > Math.abs(deltaY) ? 'h' : 'v';\n        // allow horizontal touch move on Range inputs. They will not cause any scroll\n        if ('touches' in event && moveDirection === 'h' && target.type === 'range') {\n            return false;\n        }\n        var canBeScrolledInMainDirection = locationCouldBeScrolled(moveDirection, target);\n        if (!canBeScrolledInMainDirection) {\n            return true;\n        }\n        if (canBeScrolledInMainDirection) {\n            currentAxis = moveDirection;\n        }\n        else {\n            currentAxis = moveDirection === 'v' ? 'h' : 'v';\n            canBeScrolledInMainDirection = locationCouldBeScrolled(moveDirection, target);\n            // other axis might be not scrollable\n        }\n        if (!canBeScrolledInMainDirection) {\n            return false;\n        }\n        if (!activeAxis.current && 'changedTouches' in event && (deltaX || deltaY)) {\n            activeAxis.current = currentAxis;\n        }\n        if (!currentAxis) {\n            return true;\n        }\n        var cancelingAxis = activeAxis.current || currentAxis;\n        return handleScroll(cancelingAxis, parent, event, cancelingAxis === 'h' ? deltaX : deltaY, true);\n    }, []);\n    var shouldPrevent = React.useCallback(function (_event) {\n        var event = _event;\n        if (!lockStack.length || lockStack[lockStack.length - 1] !== Style) {\n            // not the last active\n            return;\n        }\n        var delta = 'deltaY' in event ? getDeltaXY(event) : getTouchXY(event);\n        var sourceEvent = shouldPreventQueue.current.filter(function (e) { return e.name === event.type && (e.target === event.target || event.target === e.shadowParent) && deltaCompare(e.delta, delta); })[0];\n        // self event, and should be canceled\n        if (sourceEvent && sourceEvent.should) {\n            if (event.cancelable) {\n                event.preventDefault();\n            }\n            return;\n        }\n        // outside or shard event\n        if (!sourceEvent) {\n            var shardNodes = (lastProps.current.shards || [])\n                .map(extractRef)\n                .filter(Boolean)\n                .filter(function (node) { return node.contains(event.target); });\n            var shouldStop = shardNodes.length > 0 ? shouldCancelEvent(event, shardNodes[0]) : !lastProps.current.noIsolation;\n            if (shouldStop) {\n                if (event.cancelable) {\n                    event.preventDefault();\n                }\n            }\n        }\n    }, []);\n    var shouldCancel = React.useCallback(function (name, delta, target, should) {\n        var event = { name: name, delta: delta, target: target, should: should, shadowParent: getOutermostShadowParent(target) };\n        shouldPreventQueue.current.push(event);\n        setTimeout(function () {\n            shouldPreventQueue.current = shouldPreventQueue.current.filter(function (e) { return e !== event; });\n        }, 1);\n    }, []);\n    var scrollTouchStart = React.useCallback(function (event) {\n        touchStartRef.current = getTouchXY(event);\n        activeAxis.current = undefined;\n    }, []);\n    var scrollWheel = React.useCallback(function (event) {\n        shouldCancel(event.type, getDeltaXY(event), event.target, shouldCancelEvent(event, props.lockRef.current));\n    }, []);\n    var scrollTouchMove = React.useCallback(function (event) {\n        shouldCancel(event.type, getTouchXY(event), event.target, shouldCancelEvent(event, props.lockRef.current));\n    }, []);\n    React.useEffect(function () {\n        lockStack.push(Style);\n        props.setCallbacks({\n            onScrollCapture: scrollWheel,\n            onWheelCapture: scrollWheel,\n            onTouchMoveCapture: scrollTouchMove,\n        });\n        document.addEventListener('wheel', shouldPrevent, nonPassive);\n        document.addEventListener('touchmove', shouldPrevent, nonPassive);\n        document.addEventListener('touchstart', scrollTouchStart, nonPassive);\n        return function () {\n            lockStack = lockStack.filter(function (inst) { return inst !== Style; });\n            document.removeEventListener('wheel', shouldPrevent, nonPassive);\n            document.removeEventListener('touchmove', shouldPrevent, nonPassive);\n            document.removeEventListener('touchstart', scrollTouchStart, nonPassive);\n        };\n    }, []);\n    var removeScrollBar = props.removeScrollBar, inert = props.inert;\n    return (React.createElement(React.Fragment, null,\n        inert ? React.createElement(Style, { styles: generateStyle(id) }) : null,\n        removeScrollBar ? React.createElement(RemoveScrollBar, { noRelative: props.noRelative, gapMode: props.gapMode }) : null));\n}\nfunction getOutermostShadowParent(node) {\n    var shadowParent = null;\n    while (node !== null) {\n        if (node instanceof ShadowRoot) {\n            shadowParent = node.host;\n            node = node.host;\n        }\n        node = node.parentNode;\n    }\n    return shadowParent;\n}\n","import { exportSidecar } from 'use-sidecar';\nimport { RemoveScrollSideCar } from './SideEffect';\nimport { effectCar } from './medium';\nexport default exportSidecar(effectCar, RemoveScrollSideCar);\n","import { __assign } from \"tslib\";\nimport * as React from 'react';\nimport { RemoveScroll } from './UI';\nimport SideCar from './sidecar';\nvar ReactRemoveScroll = React.forwardRef(function (props, ref) { return (React.createElement(RemoveScroll, __assign({}, props, { ref: ref, sideCar: SideCar }))); });\nReactRemoveScroll.classNames = RemoveScroll.classNames;\nexport default ReactRemoveScroll;\n","/**\n * defines a focus group\n */\nexport var FOCUS_GROUP = 'data-focus-lock';\n/**\n * disables element discovery inside a group marked by key\n */\nexport var FOCUS_DISABLED = 'data-focus-lock-disabled';\n/**\n * allows uncontrolled focus within the marked area, effectively disabling focus lock for it's content\n */\nexport var FOCUS_ALLOW = 'data-no-focus-lock';\n/**\n * instructs autofocus engine to pick default autofocus inside a given node\n * can be set on the element or container\n */\nexport var FOCUS_AUTO = 'data-autofocus-inside';\n/**\n * instructs autofocus to ignore elements within a given node\n * can be set on the element or container\n */\nexport var FOCUS_NO_AUTOFOCUS = 'data-no-autofocus';\n","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nexport var hiddenGuard = {\n  width: '1px',\n  height: '0px',\n  padding: 0,\n  overflow: 'hidden',\n  position: 'fixed',\n  top: '1px',\n  left: '1px'\n};\nvar InFocusGuard = function InFocusGuard(_ref) {\n  var _ref$children = _ref.children,\n    children = _ref$children === void 0 ? null : _ref$children;\n  return /*#__PURE__*/React.createElement(Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    key: \"guard-first\",\n    \"data-focus-guard\": true,\n    \"data-focus-auto-guard\": true,\n    style: hiddenGuard\n  }), children, children && /*#__PURE__*/React.createElement(\"div\", {\n    key: \"guard-last\",\n    \"data-focus-guard\": true,\n    \"data-focus-auto-guard\": true,\n    style: hiddenGuard\n  }));\n};\nInFocusGuard.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  children: PropTypes.node\n} : {};\nexport default InFocusGuard;","import { createMedium, createSidecarMedium } from 'use-sidecar';\nexport var mediumFocus = createMedium({}, function (_ref) {\n  var target = _ref.target,\n    currentTarget = _ref.currentTarget;\n  return {\n    target: target,\n    currentTarget: currentTarget\n  };\n});\nexport var mediumBlur = createMedium();\nexport var mediumEffect = createMedium();\nexport var mediumSidecar = createSidecarMedium({\n  async: true,\n  ssr: typeof document !== 'undefined'\n});","import { createContext } from 'react';\nexport var focusScope = /*#__PURE__*/createContext(undefined);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport React, { forwardRef, useRef, useState, useCallback, useEffect, useMemo, Fragment } from 'react';\nimport { node, bool, string, any, arrayOf, oneOfType, object, func } from 'prop-types';\nimport { FOCUS_DISABLED, FOCUS_GROUP } from 'focus-lock/constants';\nimport { useMergeRefs } from 'use-callback-ref';\nimport { hiddenGuard } from './FocusGuard';\nimport { mediumFocus, mediumBlur, mediumSidecar } from './medium';\nimport { focusScope } from './scope';\nvar emptyArray = [];\nvar FocusLock = /*#__PURE__*/forwardRef(function FocusLockUI(props, parentRef) {\n  var _extends2;\n  var _useState = useState(),\n    realObserved = _useState[0],\n    setObserved = _useState[1];\n  var observed = useRef();\n  var isActive = useRef(false);\n  var originalFocusedElement = useRef(null);\n  var _useState2 = useState({}),\n    update = _useState2[1];\n  var children = props.children,\n    _props$disabled = props.disabled,\n    disabled = _props$disabled === void 0 ? false : _props$disabled,\n    _props$noFocusGuards = props.noFocusGuards,\n    noFocusGuards = _props$noFocusGuards === void 0 ? false : _props$noFocusGuards,\n    _props$persistentFocu = props.persistentFocus,\n    persistentFocus = _props$persistentFocu === void 0 ? false : _props$persistentFocu,\n    _props$crossFrame = props.crossFrame,\n    crossFrame = _props$crossFrame === void 0 ? true : _props$crossFrame,\n    _props$autoFocus = props.autoFocus,\n    autoFocus = _props$autoFocus === void 0 ? true : _props$autoFocus,\n    allowTextSelection = props.allowTextSelection,\n    group = props.group,\n    className = props.className,\n    whiteList = props.whiteList,\n    hasPositiveIndices = props.hasPositiveIndices,\n    _props$shards = props.shards,\n    shards = _props$shards === void 0 ? emptyArray : _props$shards,\n    _props$as = props.as,\n    Container = _props$as === void 0 ? 'div' : _props$as,\n    _props$lockProps = props.lockProps,\n    containerProps = _props$lockProps === void 0 ? {} : _props$lockProps,\n    SideCar = props.sideCar,\n    _props$returnFocus = props.returnFocus,\n    shouldReturnFocus = _props$returnFocus === void 0 ? false : _props$returnFocus,\n    focusOptions = props.focusOptions,\n    onActivationCallback = props.onActivation,\n    onDeactivationCallback = props.onDeactivation;\n  var _useState3 = useState({}),\n    id = _useState3[0];\n  var onActivation = useCallback(function (_ref) {\n    var captureFocusRestore = _ref.captureFocusRestore;\n    if (!originalFocusedElement.current) {\n      var _document;\n      var activeElement = (_document = document) == null ? void 0 : _document.activeElement;\n      originalFocusedElement.current = activeElement;\n      if (activeElement !== document.body) {\n        originalFocusedElement.current = captureFocusRestore(activeElement);\n      }\n    }\n    if (observed.current && onActivationCallback) {\n      onActivationCallback(observed.current);\n    }\n    isActive.current = true;\n    update();\n  }, [onActivationCallback]);\n  var onDeactivation = useCallback(function () {\n    isActive.current = false;\n    if (onDeactivationCallback) {\n      onDeactivationCallback(observed.current);\n    }\n    update();\n  }, [onDeactivationCallback]);\n  var returnFocus = useCallback(function (allowDefer) {\n    var focusRestore = originalFocusedElement.current;\n    if (focusRestore) {\n      var returnFocusTo = (typeof focusRestore === 'function' ? focusRestore() : focusRestore) || document.body;\n      var howToReturnFocus = typeof shouldReturnFocus === 'function' ? shouldReturnFocus(returnFocusTo) : shouldReturnFocus;\n      if (howToReturnFocus) {\n        var returnFocusOptions = typeof howToReturnFocus === 'object' ? howToReturnFocus : undefined;\n        originalFocusedElement.current = null;\n        if (allowDefer) {\n          Promise.resolve().then(function () {\n            return returnFocusTo.focus(returnFocusOptions);\n          });\n        } else {\n          returnFocusTo.focus(returnFocusOptions);\n        }\n      }\n    }\n  }, [shouldReturnFocus]);\n  var onFocus = useCallback(function (event) {\n    if (isActive.current) {\n      mediumFocus.useMedium(event);\n    }\n  }, []);\n  var onBlur = mediumBlur.useMedium;\n  var setObserveNode = useCallback(function (newObserved) {\n    if (observed.current !== newObserved) {\n      observed.current = newObserved;\n      setObserved(newObserved);\n    }\n  }, []);\n  if (process.env.NODE_ENV !== 'production') {\n    if (typeof allowTextSelection !== 'undefined') {\n      console.warn('React-Focus-Lock: allowTextSelection is deprecated and enabled by default');\n    }\n    useEffect(function () {\n      if (!observed.current && typeof Container !== 'string') {\n        console.error('FocusLock: could not obtain ref to internal node');\n      }\n    }, []);\n  }\n  var lockProps = _extends((_extends2 = {}, _extends2[FOCUS_DISABLED] = disabled && 'disabled', _extends2[FOCUS_GROUP] = group, _extends2), containerProps);\n  var hasLeadingGuards = noFocusGuards !== true;\n  var hasTailingGuards = hasLeadingGuards && noFocusGuards !== 'tail';\n  var mergedRef = useMergeRefs([parentRef, setObserveNode]);\n  var focusScopeValue = useMemo(function () {\n    return {\n      observed: observed,\n      shards: shards,\n      enabled: !disabled,\n      active: isActive.current\n    };\n  }, [disabled, isActive.current, shards, realObserved]);\n  return /*#__PURE__*/React.createElement(Fragment, null, hasLeadingGuards && [\n  /*#__PURE__*/\n  React.createElement(\"div\", {\n    key: \"guard-first\",\n    \"data-focus-guard\": true,\n    tabIndex: disabled ? -1 : 0,\n    style: hiddenGuard\n  }), hasPositiveIndices ? /*#__PURE__*/React.createElement(\"div\", {\n    key: \"guard-nearest\",\n    \"data-focus-guard\": true,\n    tabIndex: disabled ? -1 : 1,\n    style: hiddenGuard\n  }) : null], !disabled && /*#__PURE__*/React.createElement(SideCar, {\n    id: id,\n    sideCar: mediumSidecar,\n    observed: realObserved,\n    disabled: disabled,\n    persistentFocus: persistentFocus,\n    crossFrame: crossFrame,\n    autoFocus: autoFocus,\n    whiteList: whiteList,\n    shards: shards,\n    onActivation: onActivation,\n    onDeactivation: onDeactivation,\n    returnFocus: returnFocus,\n    focusOptions: focusOptions,\n    noFocusGuards: noFocusGuards\n  }), /*#__PURE__*/React.createElement(Container, _extends({\n    ref: mergedRef\n  }, lockProps, {\n    className: className,\n    onBlur: onBlur,\n    onFocus: onFocus\n  }), /*#__PURE__*/React.createElement(focusScope.Provider, {\n    value: focusScopeValue\n  }, children)), hasTailingGuards && /*#__PURE__*/React.createElement(\"div\", {\n    \"data-focus-guard\": true,\n    tabIndex: disabled ? -1 : 0,\n    style: hiddenGuard\n  }));\n});\nFocusLock.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  children: node,\n  disabled: bool,\n  returnFocus: oneOfType([bool, object, func]),\n  focusOptions: object,\n  noFocusGuards: bool,\n  hasPositiveIndices: bool,\n  allowTextSelection: bool,\n  autoFocus: bool,\n  persistentFocus: bool,\n  crossFrame: bool,\n  group: string,\n  className: string,\n  whiteList: func,\n  shards: arrayOf(any),\n  as: oneOfType([string, func, object]),\n  lockProps: object,\n  onActivation: func,\n  onDeactivation: func,\n  sideCar: any.isRequired\n} : {};\nexport default FocusLock;","function _setPrototypeOf(t, e) {\n  return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) {\n    return t.__proto__ = e, t;\n  }, _setPrototypeOf(t, e);\n}\nexport { _setPrototypeOf as default };","import _inheritsLoose from '@babel/runtime/helpers/esm/inheritsLoose';\nimport _defineProperty from '@babel/runtime/helpers/esm/defineProperty';\nimport React, { PureComponent } from 'react';\n\nfunction withSideEffect(reducePropsToState, handleStateChangeOnClient) {\n  if (process.env.NODE_ENV !== \"production\") {\n    if (typeof reducePropsToState !== 'function') {\n      throw new Error('Expected reducePropsToState to be a function.');\n    }\n\n    if (typeof handleStateChangeOnClient !== 'function') {\n      throw new Error('Expected handleStateChangeOnClient to be a function.');\n    }\n  }\n\n  function getDisplayName(WrappedComponent) {\n    return WrappedComponent.displayName || WrappedComponent.name || 'Component';\n  }\n\n  return function wrap(WrappedComponent) {\n    if (process.env.NODE_ENV !== \"production\") {\n      if (typeof WrappedComponent !== 'function') {\n        throw new Error('Expected WrappedComponent to be a React component.');\n      }\n    }\n\n    var mountedInstances = [];\n    var state;\n\n    function emitChange() {\n      state = reducePropsToState(mountedInstances.map(function (instance) {\n        return instance.props;\n      }));\n      handleStateChangeOnClient(state);\n    }\n\n    var SideEffect = /*#__PURE__*/function (_PureComponent) {\n      _inheritsLoose(SideEffect, _PureComponent);\n\n      function SideEffect() {\n        return _PureComponent.apply(this, arguments) || this;\n      }\n\n      // Try to use displayName of wrapped component\n      SideEffect.peek = function peek() {\n        return state;\n      };\n\n      var _proto = SideEffect.prototype;\n\n      _proto.componentDidMount = function componentDidMount() {\n        mountedInstances.push(this);\n        emitChange();\n      };\n\n      _proto.componentDidUpdate = function componentDidUpdate() {\n        emitChange();\n      };\n\n      _proto.componentWillUnmount = function componentWillUnmount() {\n        var index = mountedInstances.indexOf(this);\n        mountedInstances.splice(index, 1);\n        emitChange();\n      };\n\n      _proto.render = function render() {\n        return /*#__PURE__*/React.createElement(WrappedComponent, this.props);\n      };\n\n      return SideEffect;\n    }(PureComponent);\n\n    _defineProperty(SideEffect, \"displayName\", \"SideEffect(\" + getDisplayName(WrappedComponent) + \")\");\n\n    return SideEffect;\n  };\n}\n\nexport default withSideEffect;\n","import setPrototypeOf from \"./setPrototypeOf.js\";\nfunction _inheritsLoose(t, o) {\n  t.prototype = Object.create(o.prototype), t.prototype.constructor = t, setPrototypeOf(t, o);\n}\nexport { _inheritsLoose as default };","/*\nIE11 support\n */\nexport var toArray = function (a) {\n    var ret = Array(a.length);\n    for (var i = 0; i < a.length; ++i) {\n        ret[i] = a[i];\n    }\n    return ret;\n};\nexport var asArray = function (a) { return (Array.isArray(a) ? a : [a]); };\nexport var getFirst = function (a) { return (Array.isArray(a) ? a[0] : a); };\n","import { FOCUS_NO_AUTOFOCUS } from '../constants';\nvar isElementHidden = function (node) {\n    // we can measure only \"elements\"\n    // consider others as \"visible\"\n    if (node.nodeType !== Node.ELEMENT_NODE) {\n        return false;\n    }\n    var computedStyle = window.getComputedStyle(node, null);\n    if (!computedStyle || !computedStyle.getPropertyValue) {\n        return false;\n    }\n    return (computedStyle.getPropertyValue('display') === 'none' || computedStyle.getPropertyValue('visibility') === 'hidden');\n};\nvar getParentNode = function (node) {\n    // DOCUMENT_FRAGMENT_NODE can also point on ShadowRoot. In this case .host will point on the next node\n    return node.parentNode && node.parentNode.nodeType === Node.DOCUMENT_FRAGMENT_NODE\n        ? // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            node.parentNode.host\n        : node.parentNode;\n};\nvar isTopNode = function (node) {\n    // @ts-ignore\n    return node === document || (node && node.nodeType === Node.DOCUMENT_NODE);\n};\nvar isInert = function (node) { return node.hasAttribute('inert'); };\n/**\n * @see https://github.com/testing-library/jest-dom/blob/main/src/to-be-visible.js\n */\nvar isVisibleUncached = function (node, checkParent) {\n    return !node || isTopNode(node) || (!isElementHidden(node) && !isInert(node) && checkParent(getParentNode(node)));\n};\nexport var isVisibleCached = function (visibilityCache, node) {\n    var cached = visibilityCache.get(node);\n    if (cached !== undefined) {\n        return cached;\n    }\n    var result = isVisibleUncached(node, isVisibleCached.bind(undefined, visibilityCache));\n    visibilityCache.set(node, result);\n    return result;\n};\nvar isAutoFocusAllowedUncached = function (node, checkParent) {\n    return node && !isTopNode(node) ? (isAutoFocusAllowed(node) ? checkParent(getParentNode(node)) : false) : true;\n};\nexport var isAutoFocusAllowedCached = function (cache, node) {\n    var cached = cache.get(node);\n    if (cached !== undefined) {\n        return cached;\n    }\n    var result = isAutoFocusAllowedUncached(node, isAutoFocusAllowedCached.bind(undefined, cache));\n    cache.set(node, result);\n    return result;\n};\nexport var getDataset = function (node) {\n    // @ts-ignore\n    return node.dataset;\n};\nexport var isHTMLButtonElement = function (node) { return node.tagName === 'BUTTON'; };\nexport var isHTMLInputElement = function (node) { return node.tagName === 'INPUT'; };\nexport var isRadioElement = function (node) {\n    return isHTMLInputElement(node) && node.type === 'radio';\n};\nexport var notHiddenInput = function (node) {\n    return !((isHTMLInputElement(node) || isHTMLButtonElement(node)) && (node.type === 'hidden' || node.disabled));\n};\nexport var isAutoFocusAllowed = function (node) {\n    var attribute = node.getAttribute(FOCUS_NO_AUTOFOCUS);\n    return ![true, 'true', ''].includes(attribute);\n};\nexport var isGuard = function (node) { var _a; return Boolean(node && ((_a = getDataset(node)) === null || _a === void 0 ? void 0 : _a.focusGuard)); };\nexport var isNotAGuard = function (node) { return !isGuard(node); };\nexport var isDefined = function (x) { return Boolean(x); };\n","import { toArray } from './array';\nexport var tabSort = function (a, b) {\n    var aTab = Math.max(0, a.tabIndex);\n    var bTab = Math.max(0, b.tabIndex);\n    var tabDiff = aTab - bTab;\n    var indexDiff = a.index - b.index;\n    if (tabDiff) {\n        if (!aTab) {\n            return 1;\n        }\n        if (!bTab) {\n            return -1;\n        }\n    }\n    return tabDiff || indexDiff;\n};\nvar getTabIndex = function (node) {\n    if (node.tabIndex < 0) {\n        // all \"focusable\" elements are already preselected\n        // but some might have implicit negative tabIndex\n        // return 0 for <audio without tabIndex attribute - it is \"tabbable\"\n        if (!node.hasAttribute('tabindex')) {\n            return 0;\n        }\n    }\n    return node.tabIndex;\n};\nexport var orderByTabIndex = function (nodes, filterNegative, keepGuards) {\n    return toArray(nodes)\n        .map(function (node, index) {\n        var tabIndex = getTabIndex(node);\n        return {\n            node: node,\n            index: index,\n            tabIndex: keepGuards && tabIndex === -1 ? ((node.dataset || {}).focusGuard ? 0 : -1) : tabIndex,\n        };\n    })\n        .filter(function (data) { return !filterNegative || data.tabIndex >= 0; })\n        .sort(tabSort);\n};\n","import { FOCUS_AUTO } from '../constants';\nimport { toArray } from './array';\nimport { tabbables } from './tabbables';\nvar queryTabbables = tabbables.join(',');\nvar queryGuardTabbables = \"\".concat(queryTabbables, \", [data-focus-guard]\");\nvar getFocusablesWithShadowDom = function (parent, withGuards) {\n    return toArray((parent.shadowRoot || parent).children).reduce(function (acc, child) {\n        return acc.concat(child.matches(withGuards ? queryGuardTabbables : queryTabbables) ? [child] : [], getFocusablesWithShadowDom(child));\n    }, []);\n};\nvar getFocusablesWithIFrame = function (parent, withGuards) {\n    var _a;\n    // contentDocument of iframe will be null if current origin cannot access it\n    if (parent instanceof HTMLIFrameElement && ((_a = parent.contentDocument) === null || _a === void 0 ? void 0 : _a.body)) {\n        return getFocusables([parent.contentDocument.body], withGuards);\n    }\n    return [parent];\n};\nexport var getFocusables = function (parents, withGuards) {\n    return parents.reduce(function (acc, parent) {\n        var _a;\n        var focusableWithShadowDom = getFocusablesWithShadowDom(parent, withGuards);\n        var focusableWithIframes = (_a = []).concat.apply(_a, focusableWithShadowDom.map(function (node) { return getFocusablesWithIFrame(node, withGuards); }));\n        return acc.concat(\n        // add all tabbables inside and within shadow DOMs in DOM order\n        focusableWithIframes, \n        // add if node is tabbable itself\n        parent.parentNode\n            ? toArray(parent.parentNode.querySelectorAll(queryTabbables)).filter(function (node) { return node === parent; })\n            : []);\n    }, []);\n};\n/**\n * return a list of focusable nodes within an area marked as \"auto-focusable\"\n * @param parent\n */\nexport var getParentAutofocusables = function (parent) {\n    var parentFocus = parent.querySelectorAll(\"[\".concat(FOCUS_AUTO, \"]\"));\n    return toArray(parentFocus)\n        .map(function (node) { return getFocusables([node]); })\n        .reduce(function (acc, nodes) { return acc.concat(nodes); }, []);\n};\n","/**\n * list of the object to be considered as focusable\n */\nexport var tabbables = [\n    'button:enabled',\n    'select:enabled',\n    'textarea:enabled',\n    'input:enabled',\n    // elements with explicit roles will also use explicit tabindex\n    // '[role=\"button\"]',\n    'a[href]',\n    'area[href]',\n    'summary',\n    'iframe',\n    'object',\n    'embed',\n    'audio[controls]',\n    'video[controls]',\n    '[tabindex]',\n    '[contenteditable]',\n    '[autofocus]',\n];\n","import { toArray } from './array';\nimport { isAutoFocusAllowedCached, isVisibleCached, notHiddenInput } from './is';\nimport { orderByTabIndex } from './tabOrder';\nimport { getFocusables, getParentAutofocusables } from './tabUtils';\n/**\n * given list of focusable elements keeps the ones user can interact with\n * @param nodes\n * @param visibilityCache\n */\nexport var filterFocusable = function (nodes, visibilityCache) {\n    return toArray(nodes)\n        .filter(function (node) { return isVisibleCached(visibilityCache, node); })\n        .filter(function (node) { return notHiddenInput(node); });\n};\nexport var filterAutoFocusable = function (nodes, cache) {\n    if (cache === void 0) { cache = new Map(); }\n    return toArray(nodes).filter(function (node) { return isAutoFocusAllowedCached(cache, node); });\n};\n/**\n * !__WARNING__! Low level API.\n * @returns all tabbable nodes\n *\n * @see {@link getFocusableNodes} to get any focusable element\n *\n * @param topNodes - array of top level HTMLElements to search inside\n * @param visibilityCache - an cache to store intermediate measurements. Expected to be a fresh `new Map` on every call\n */\nexport var getTabbableNodes = function (topNodes, visibilityCache, withGuards) {\n    return orderByTabIndex(filterFocusable(getFocusables(topNodes, withGuards), visibilityCache), true, withGuards);\n};\n/**\n * !__WARNING__! Low level API.\n *\n * @returns anything \"focusable\", not only tabbable. The difference is in `tabIndex=-1`\n * (without guards, as long as they are not expected to be ever focused)\n *\n * @see {@link getTabbableNodes} to get only tabble nodes element\n *\n * @param topNodes - array of top level HTMLElements to search inside\n * @param visibilityCache - an cache to store intermediate measurements. Expected to be a fresh `new Map` on every call\n */\nexport var getFocusableNodes = function (topNodes, visibilityCache) {\n    return orderByTabIndex(filterFocusable(getFocusables(topNodes), visibilityCache), false);\n};\n/**\n * return list of nodes which are expected to be auto-focused\n * @param topNode\n * @param visibilityCache\n */\nexport var parentAutofocusables = function (topNode, visibilityCache) {\n    return filterFocusable(getParentAutofocusables(topNode), visibilityCache);\n};\n/*\n * Determines if element is contained in scope, including nested shadow DOMs\n */\nexport var contains = function (scope, element) {\n    if (scope.shadowRoot) {\n        return contains(scope.shadowRoot, element);\n    }\n    else {\n        if (Object.getPrototypeOf(scope).contains !== undefined &&\n            Object.getPrototypeOf(scope).contains.call(scope, element)) {\n            return true;\n        }\n        return toArray(scope.children).some(function (child) {\n            var _a;\n            if (child instanceof HTMLIFrameElement) {\n                var iframeBody = (_a = child.contentDocument) === null || _a === void 0 ? void 0 : _a.body;\n                if (iframeBody) {\n                    return contains(iframeBody, element);\n                }\n                return false;\n            }\n            return contains(child, element);\n        });\n    }\n};\n","/**\n * returns active element from document or from nested shadowdoms\n */\nimport { safeProbe } from './safe';\n/**\n * returns current active element. If the active element is a \"container\" itself(shadowRoot or iframe) returns active element inside it\n * @param [inDocument]\n */\nexport var getActiveElement = function (inDocument) {\n    if (inDocument === void 0) { inDocument = document; }\n    if (!inDocument || !inDocument.activeElement) {\n        return undefined;\n    }\n    var activeElement = inDocument.activeElement;\n    return (activeElement.shadowRoot\n        ? getActiveElement(activeElement.shadowRoot)\n        : activeElement instanceof HTMLIFrameElement && safeProbe(function () { return activeElement.contentWindow.document; })\n            ? getActiveElement(activeElement.contentWindow.document)\n            : activeElement);\n};\n","export var safeProbe = function (cb) {\n    try {\n        return cb();\n    }\n    catch (e) {\n        return undefined;\n    }\n};\n","import { FOCUS_DISABLED, FOCUS_GROUP } from '../constants';\nimport { asArray, toArray } from './array';\n/**\n * in case of multiple nodes nested inside each other\n * keeps only top ones\n * this is O(nlogn)\n * @param nodes\n * @returns {*}\n */\nvar filterNested = function (nodes) {\n    var contained = new Set();\n    var l = nodes.length;\n    for (var i = 0; i < l; i += 1) {\n        for (var j = i + 1; j < l; j += 1) {\n            var position = nodes[i].compareDocumentPosition(nodes[j]);\n            /* eslint-disable no-bitwise */\n            if ((position & Node.DOCUMENT_POSITION_CONTAINED_BY) > 0) {\n                contained.add(j);\n            }\n            if ((position & Node.DOCUMENT_POSITION_CONTAINS) > 0) {\n                contained.add(i);\n            }\n            /* eslint-enable */\n        }\n    }\n    return nodes.filter(function (_, index) { return !contained.has(index); });\n};\n/**\n * finds top most parent for a node\n * @param node\n * @returns {*}\n */\nvar getTopParent = function (node) {\n    return node.parentNode ? getTopParent(node.parentNode) : node;\n};\n/**\n * returns all \"focus containers\" inside a given node\n * @param node - node or nodes to look inside\n * @returns Element[]\n */\nexport var getAllAffectedNodes = function (node) {\n    var nodes = asArray(node);\n    return nodes.filter(Boolean).reduce(function (acc, currentNode) {\n        var group = currentNode.getAttribute(FOCUS_GROUP);\n        acc.push.apply(acc, (group\n            ? filterNested(toArray(getTopParent(currentNode).querySelectorAll(\"[\".concat(FOCUS_GROUP, \"=\\\"\").concat(group, \"\\\"]:not([\").concat(FOCUS_DISABLED, \"=\\\"disabled\\\"])\"))))\n            : [currentNode]));\n        return acc;\n    }, []);\n};\n","import { contains } from './utils/DOMutils';\nimport { getAllAffectedNodes } from './utils/all-affected';\nimport { getFirst, toArray } from './utils/array';\nimport { getActiveElement } from './utils/getActiveElement';\nvar focusInFrame = function (frame, activeElement) { return frame === activeElement; };\nvar focusInsideIframe = function (topNode, activeElement) {\n    return Boolean(toArray(topNode.querySelectorAll('iframe')).some(function (node) { return focusInFrame(node, activeElement); }));\n};\n/**\n * @returns {Boolean} true, if the current focus is inside given node or nodes.\n * Supports nodes hidden inside shadowDom\n */\nexport var focusInside = function (topNode, activeElement) {\n    // const activeElement = document && getActiveElement();\n    if (activeElement === void 0) { activeElement = getActiveElement(getFirst(topNode).ownerDocument); }\n    if (!activeElement || (activeElement.dataset && activeElement.dataset.focusGuard)) {\n        return false;\n    }\n    return getAllAffectedNodes(topNode).some(function (node) {\n        return contains(node, activeElement) || focusInsideIframe(node, activeElement);\n    });\n};\n","export var focusOn = function (target, focusOptions) {\n    if (!target) {\n        // not clear how, but is possible https://github.com/theKashey/focus-lock/issues/53\n        return;\n    }\n    if ('focus' in target) {\n        target.focus(focusOptions);\n    }\n    if ('contentWindow' in target && target.contentWindow) {\n        target.contentWindow.focus();\n    }\n};\n","import { isRadioElement } from './is';\nvar findSelectedRadio = function (node, nodes) {\n    return nodes\n        .filter(isRadioElement)\n        .filter(function (el) { return el.name === node.name; })\n        .filter(function (el) { return el.checked; })[0] || node;\n};\nexport var correctNode = function (node, nodes) {\n    if (isRadioElement(node) && node.name) {\n        return findSelectedRadio(node, nodes);\n    }\n    return node;\n};\n/**\n * giving a set of radio inputs keeps only selected (tabbable) ones\n * @param nodes\n */\nexport var correctNodes = function (nodes) {\n    // IE11 has no Set(array) constructor\n    var resultSet = new Set();\n    nodes.forEach(function (node) { return resultSet.add(correctNode(node, nodes)); });\n    // using filter to support IE11\n    return nodes.filter(function (node) { return resultSet.has(node); });\n};\n","import { correctNode } from './correctFocus';\nexport var pickFirstFocus = function (nodes) {\n    if (nodes[0] && nodes.length > 1) {\n        return correctNode(nodes[0], nodes);\n    }\n    return nodes[0];\n};\nexport var pickFocusable = function (nodes, node) {\n    return nodes.indexOf(correctNode(node, nodes));\n};\n","import { correctNodes } from './utils/correctFocus';\nimport { pickFocusable } from './utils/firstFocus';\nimport { isGuard } from './utils/is';\nexport var NEW_FOCUS = 'NEW_FOCUS';\n/**\n * Main solver for the \"find next focus\" question\n * @param innerNodes - used to control \"return focus\"\n * @param innerTabbables - used to control \"autofocus\"\n * @param outerNodes\n * @param activeElement\n * @param lastNode\n * @returns {number|string|undefined|*}\n */\nexport var newFocus = function (innerNodes, innerTabbables, outerNodes, activeElement, lastNode) {\n    var cnt = innerNodes.length;\n    var firstFocus = innerNodes[0];\n    var lastFocus = innerNodes[cnt - 1];\n    var isOnGuard = isGuard(activeElement);\n    // focus is inside\n    if (activeElement && innerNodes.indexOf(activeElement) >= 0) {\n        return undefined;\n    }\n    var activeIndex = activeElement !== undefined ? outerNodes.indexOf(activeElement) : -1;\n    var lastIndex = lastNode ? outerNodes.indexOf(lastNode) : activeIndex;\n    var lastNodeInside = lastNode ? innerNodes.indexOf(lastNode) : -1;\n    // no active focus (or focus is on the body)\n    if (activeIndex === -1) {\n        // known fallback\n        if (lastNodeInside !== -1) {\n            return lastNodeInside;\n        }\n        return NEW_FOCUS;\n    }\n    // new focus, nothing to calculate\n    if (lastNodeInside === -1) {\n        return NEW_FOCUS;\n    }\n    var indexDiff = activeIndex - lastIndex;\n    var firstNodeIndex = outerNodes.indexOf(firstFocus);\n    var lastNodeIndex = outerNodes.indexOf(lastFocus);\n    var correctedNodes = correctNodes(outerNodes);\n    var currentFocusableIndex = activeElement !== undefined ? correctedNodes.indexOf(activeElement) : -1;\n    var previousFocusableIndex = lastNode ? correctedNodes.indexOf(lastNode) : currentFocusableIndex;\n    var tabbableNodes = correctedNodes.filter(function (node) { return node.tabIndex >= 0; });\n    var currentTabbableIndex = activeElement !== undefined ? tabbableNodes.indexOf(activeElement) : -1;\n    var previousTabbableIndex = lastNode ? tabbableNodes.indexOf(lastNode) : currentTabbableIndex;\n    var focusIndexDiff = currentTabbableIndex >= 0 && previousTabbableIndex >= 0\n        ? // old/new are tabbables, measure distance in tabbable space\n            previousTabbableIndex - currentTabbableIndex\n        : // or else measure in focusable space\n            previousFocusableIndex - currentFocusableIndex;\n    // old focus\n    if (!indexDiff && lastNodeInside >= 0) {\n        return lastNodeInside;\n    }\n    // no tabbable elements, autofocus is not possible\n    if (innerTabbables.length === 0) {\n        // an edge case with no tabbable elements\n        // return the last focusable one\n        // with some probability this will prevent focus from cycling across the lock, but there is no tabbale elements to cycle to\n        return lastNodeInside;\n    }\n    var returnFirstNode = pickFocusable(innerNodes, innerTabbables[0]);\n    var returnLastNode = pickFocusable(innerNodes, innerTabbables[innerTabbables.length - 1]);\n    // first element\n    if (activeIndex <= firstNodeIndex && isOnGuard && Math.abs(indexDiff) > 1) {\n        return returnLastNode;\n    }\n    // last element\n    if (activeIndex >= lastNodeIndex && isOnGuard && Math.abs(indexDiff) > 1) {\n        return returnFirstNode;\n    }\n    // jump out, but not on the guard\n    if (indexDiff && Math.abs(focusIndexDiff) > 1) {\n        return lastNodeInside;\n    }\n    // focus above lock\n    if (activeIndex <= firstNodeIndex) {\n        return returnLastNode;\n    }\n    // focus below lock\n    if (activeIndex > lastNodeIndex) {\n        return returnFirstNode;\n    }\n    // index is inside tab order, but outside Lock\n    if (indexDiff) {\n        if (Math.abs(indexDiff) > 1) {\n            return lastNodeInside;\n        }\n        return (cnt + lastNodeInside + indexDiff) % cnt;\n    }\n    // do nothing\n    return undefined;\n};\n","import { filterAutoFocusable } from './DOMutils';\nimport { pickFirstFocus } from './firstFocus';\nimport { getDataset } from './is';\nvar findAutoFocused = function (autoFocusables) {\n    return function (node) {\n        var _a;\n        var autofocus = (_a = getDataset(node)) === null || _a === void 0 ? void 0 : _a.autofocus;\n        return (\n        // @ts-expect-error\n        node.autofocus ||\n            //\n            (autofocus !== undefined && autofocus !== 'false') ||\n            //\n            autoFocusables.indexOf(node) >= 0);\n    };\n};\nexport var pickAutofocus = function (nodesIndexes, orderedNodes, groups) {\n    var nodes = nodesIndexes.map(function (_a) {\n        var node = _a.node;\n        return node;\n    });\n    var autoFocusable = filterAutoFocusable(nodes.filter(findAutoFocused(groups)));\n    if (autoFocusable && autoFocusable.length) {\n        return pickFirstFocus(autoFocusable);\n    }\n    return pickFirstFocus(filterAutoFocusable(orderedNodes));\n};\n","import { parentAutofocusables } from './DOMutils';\nimport { contains } from './DOMutils';\nimport { asArray } from './array';\nvar getParents = function (node, parents) {\n    if (parents === void 0) { parents = []; }\n    parents.push(node);\n    if (node.parentNode) {\n        getParents(node.parentNode.host || node.parentNode, parents);\n    }\n    return parents;\n};\n/**\n * finds a parent for both nodeA and nodeB\n * @param nodeA\n * @param nodeB\n * @returns {boolean|*}\n */\nexport var getCommonParent = function (nodeA, nodeB) {\n    var parentsA = getParents(nodeA);\n    var parentsB = getParents(nodeB);\n    // tslint:disable-next-line:prefer-for-of\n    for (var i = 0; i < parentsA.length; i += 1) {\n        var currentParent = parentsA[i];\n        if (parentsB.indexOf(currentParent) >= 0) {\n            return currentParent;\n        }\n    }\n    return false;\n};\nexport var getTopCommonParent = function (baseActiveElement, leftEntry, rightEntries) {\n    var activeElements = asArray(baseActiveElement);\n    var leftEntries = asArray(leftEntry);\n    var activeElement = activeElements[0];\n    var topCommon = false;\n    leftEntries.filter(Boolean).forEach(function (entry) {\n        topCommon = getCommonParent(topCommon || entry, entry) || topCommon;\n        rightEntries.filter(Boolean).forEach(function (subEntry) {\n            var common = getCommonParent(activeElement, subEntry);\n            if (common) {\n                if (!topCommon || contains(common, topCommon)) {\n                    topCommon = common;\n                }\n                else {\n                    topCommon = getCommonParent(common, topCommon);\n                }\n            }\n        });\n    });\n    // TODO: add assert here?\n    return topCommon;\n};\n/**\n * return list of nodes which are expected to be autofocused inside a given top nodes\n * @param entries\n * @param visibilityCache\n */\nexport var allParentAutofocusables = function (entries, visibilityCache) {\n    return entries.reduce(function (acc, node) { return acc.concat(parentAutofocusables(node, visibilityCache)); }, []);\n};\n","import { NEW_FOCUS, newFocus } from './solver';\nimport { getFocusableNodes } from './utils/DOMutils';\nimport { getAllAffectedNodes } from './utils/all-affected';\nimport { asArray, getFirst } from './utils/array';\nimport { pickAutofocus } from './utils/auto-focus';\nimport { getActiveElement } from './utils/getActiveElement';\nimport { isDefined, isNotAGuard } from './utils/is';\nimport { allParentAutofocusables, getTopCommonParent } from './utils/parenting';\nvar reorderNodes = function (srcNodes, dstNodes) {\n    var remap = new Map();\n    // no Set(dstNodes) for IE11 :(\n    dstNodes.forEach(function (entity) { return remap.set(entity.node, entity); });\n    // remap to dstNodes\n    return srcNodes.map(function (node) { return remap.get(node); }).filter(isDefined);\n};\n/**\n * contains the main logic of the `focus-lock` package.\n *\n * ! you probably dont need this function !\n *\n * given top node(s) and the last active element returns the element to be focused next\n * @returns element which should be focused to move focus inside\n * @param topNode\n * @param lastNode\n */\nexport var focusSolver = function (topNode, lastNode) {\n    var activeElement = getActiveElement(asArray(topNode).length > 0 ? document : getFirst(topNode).ownerDocument);\n    var entries = getAllAffectedNodes(topNode).filter(isNotAGuard);\n    var commonParent = getTopCommonParent(activeElement || topNode, topNode, entries);\n    var visibilityCache = new Map();\n    var anyFocusable = getFocusableNodes(entries, visibilityCache);\n    var innerElements = anyFocusable.filter(function (_a) {\n        var node = _a.node;\n        return isNotAGuard(node);\n    });\n    if (!innerElements[0]) {\n        return undefined;\n    }\n    var outerNodes = getFocusableNodes([commonParent], visibilityCache).map(function (_a) {\n        var node = _a.node;\n        return node;\n    });\n    var orderedInnerElements = reorderNodes(outerNodes, innerElements);\n    // collect inner focusable and separately tabbables\n    var innerFocusables = orderedInnerElements.map(function (_a) {\n        var node = _a.node;\n        return node;\n    });\n    var innerTabbable = orderedInnerElements.filter(function (_a) {\n        var tabIndex = _a.tabIndex;\n        return tabIndex >= 0;\n    }).map(function (_a) {\n        var node = _a.node;\n        return node;\n    });\n    var newId = newFocus(innerFocusables, innerTabbable, outerNodes, activeElement, lastNode);\n    if (newId === NEW_FOCUS) {\n        var focusNode = \n        // first try only tabbable, and the fallback to all focusable, as long as at least one element should be picked for focus\n        pickAutofocus(anyFocusable, innerTabbable, allParentAutofocusables(entries, visibilityCache)) ||\n            pickAutofocus(anyFocusable, innerFocusables, allParentAutofocusables(entries, visibilityCache));\n        if (focusNode) {\n            return { node: focusNode };\n        }\n        else {\n            console.warn('focus-lock: cannot find any node to move focus into');\n            return undefined;\n        }\n    }\n    if (newId === undefined) {\n        return newId;\n    }\n    return orderedInnerElements[newId];\n};\n","import { focusOn } from './commands';\nimport { focusSolver } from './focusSolver';\nvar guardCount = 0;\nvar lockDisabled = false;\n/**\n * The main functionality of the focus-lock package\n *\n * Contains focus at a given node.\n * The last focused element will help to determine which element(first or last) should be focused.\n * The found element will be focused.\n *\n * This is one time action (move), not a persistent focus-lock\n *\n * HTML markers (see {@link import('./constants').FOCUS_AUTO} constants) can control autofocus\n * @see {@link focusSolver} for the same functionality without autofocus\n */\nexport var moveFocusInside = function (topNode, lastNode, options) {\n    if (options === void 0) { options = {}; }\n    var focusable = focusSolver(topNode, lastNode);\n    // global local side effect to countain recursive lock activation and resolve focus-fighting\n    if (lockDisabled) {\n        return;\n    }\n    if (focusable) {\n        /** +FOCUS-FIGHTING prevention **/\n        if (guardCount > 2) {\n            // we have recursive entered back the lock activation\n            console.error('FocusLock: focus-fighting detected. Only one focus management system could be active. ' +\n                'See https://github.com/theKashey/focus-lock/#focus-fighting');\n            lockDisabled = true;\n            setTimeout(function () {\n                lockDisabled = false;\n            }, 1);\n            return;\n        }\n        guardCount++;\n        focusOn(focusable.node, options.focusOptions);\n        guardCount--;\n    }\n};\n","import { getTabbableNodes } from './utils/DOMutils';\nfunction weakRef(value) {\n    if (!value)\n        return null;\n    // #68 Safari 14.1 dont have it yet\n    // FIXME: remove in 2025\n    if (typeof WeakRef === 'undefined') {\n        return function () { return value || null; };\n    }\n    var w = value ? new WeakRef(value) : null;\n    return function () { return (w === null || w === void 0 ? void 0 : w.deref()) || null; };\n}\nexport var recordElementLocation = function (element) {\n    if (!element) {\n        return null;\n    }\n    var stack = [];\n    var currentElement = element;\n    while (currentElement && currentElement !== document.body) {\n        stack.push({\n            current: weakRef(currentElement),\n            parent: weakRef(currentElement.parentElement),\n            left: weakRef(currentElement.previousElementSibling),\n            right: weakRef(currentElement.nextElementSibling),\n        });\n        currentElement = currentElement.parentElement;\n    }\n    return {\n        element: weakRef(element),\n        stack: stack,\n        ownerDocument: element.ownerDocument,\n    };\n};\nvar restoreFocusTo = function (location) {\n    var _a, _b, _c, _d, _e;\n    if (!location) {\n        return undefined;\n    }\n    var stack = location.stack, ownerDocument = location.ownerDocument;\n    var visibilityCache = new Map();\n    for (var _i = 0, stack_1 = stack; _i < stack_1.length; _i++) {\n        var line = stack_1[_i];\n        var parent_1 = (_a = line.parent) === null || _a === void 0 ? void 0 : _a.call(line);\n        // is it still here?\n        if (parent_1 && ownerDocument.contains(parent_1)) {\n            var left = (_b = line.left) === null || _b === void 0 ? void 0 : _b.call(line);\n            var savedCurrent = line.current();\n            var current = parent_1.contains(savedCurrent) ? savedCurrent : undefined;\n            var right = (_c = line.right) === null || _c === void 0 ? void 0 : _c.call(line);\n            var focusables = getTabbableNodes([parent_1], visibilityCache);\n            var aim = \n            // that is element itself\n            (_e = (_d = current !== null && current !== void 0 ? current : \n            // or something in it's place\n            left === null || left === void 0 ? void 0 : left.nextElementSibling) !== null && _d !== void 0 ? _d : \n            // or somebody to the right, still close enough\n            right) !== null && _e !== void 0 ? _e : \n            // or somebody to the left, something?\n            left;\n            while (aim) {\n                for (var _f = 0, focusables_1 = focusables; _f < focusables_1.length; _f++) {\n                    var focusable = focusables_1[_f];\n                    if (aim === null || aim === void 0 ? void 0 : aim.contains(focusable.node)) {\n                        return focusable.node;\n                    }\n                }\n                aim = aim.nextElementSibling;\n            }\n            if (focusables.length) {\n                // if parent contains a focusable - move there\n                return focusables[0].node;\n            }\n        }\n    }\n    // nothing matched\n    return undefined;\n};\n/**\n * Captures the current focused element to restore focus as close as possible in the future\n * Handles situations where the focused element is removed from the DOM or no longer focusable\n * moving focus to the closest focusable element\n * @param targetElement - element where focus should be restored\n * @returns a function returning a new element to focus\n */\nexport var captureFocusRestore = function (targetElement) {\n    var location = recordElementLocation(targetElement);\n    return function () {\n        return restoreFocusTo(location);\n    };\n};\n","import { focusOn } from './commands';\nimport { getTabbableNodes, contains, getFocusableNodes } from './utils/DOMutils';\nimport { asArray } from './utils/array';\n/**\n * for a given `element` in a given `scope` returns focusable siblings\n * @param element - base element\n * @param scope - common parent. Can be document, but better to narrow it down for performance reasons\n * @returns {prev,next} - references to a focusable element before and after\n * @returns undefined - if operation is not applicable\n */\nexport var getRelativeFocusable = function (element, scope, useTabbables) {\n    if (!element || !scope) {\n        console.error('no element or scope given');\n        return {};\n    }\n    var shards = asArray(scope);\n    if (shards.every(function (shard) { return !contains(shard, element); })) {\n        console.error('Active element is not contained in the scope');\n        return {};\n    }\n    var focusables = useTabbables\n        ? getTabbableNodes(shards, new Map())\n        : getFocusableNodes(shards, new Map());\n    var current = focusables.findIndex(function (_a) {\n        var node = _a.node;\n        return node === element;\n    });\n    if (current === -1) {\n        // an edge case, when anchor element is not found\n        return undefined;\n    }\n    return {\n        prev: focusables[current - 1],\n        next: focusables[current + 1],\n        first: focusables[0],\n        last: focusables[focusables.length - 1],\n    };\n};\nvar getBoundary = function (shards, useTabbables) {\n    var set = useTabbables\n        ? getTabbableNodes(asArray(shards), new Map())\n        : getFocusableNodes(asArray(shards), new Map());\n    return {\n        first: set[0],\n        last: set[set.length - 1],\n    };\n};\nvar defaultOptions = function (options) {\n    return Object.assign({\n        scope: document.body,\n        cycle: true,\n        onlyTabbable: true,\n    }, options);\n};\nvar moveFocus = function (fromElement, options, cb) {\n    if (options === void 0) { options = {}; }\n    var newOptions = defaultOptions(options);\n    var solution = getRelativeFocusable(fromElement, newOptions.scope, newOptions.onlyTabbable);\n    if (!solution) {\n        return;\n    }\n    var target = cb(solution, newOptions.cycle);\n    if (target) {\n        focusOn(target.node, newOptions.focusOptions);\n    }\n};\n/**\n * focuses next element in the tab-order\n * @param fromElement - common parent to scope active element search or tab cycle order\n * @param {FocusNextOptions} [options] - focus options\n */\nexport var focusNextElement = function (fromElement, options) {\n    if (options === void 0) { options = {}; }\n    moveFocus(fromElement, options, function (_a, cycle) {\n        var next = _a.next, first = _a.first;\n        return next || (cycle && first);\n    });\n};\n/**\n * focuses prev element in the tab order\n * @param fromElement - common parent to scope active element search or tab cycle order\n * @param {FocusNextOptions} [options] - focus options\n */\nexport var focusPrevElement = function (fromElement, options) {\n    if (options === void 0) { options = {}; }\n    moveFocus(fromElement, options, function (_a, cycle) {\n        var prev = _a.prev, last = _a.last;\n        return prev || (cycle && last);\n    });\n};\nvar pickBoundary = function (scope, options, what) {\n    var _a;\n    var boundary = getBoundary(scope, (_a = options.onlyTabbable) !== null && _a !== void 0 ? _a : true);\n    var node = boundary[what];\n    if (node) {\n        focusOn(node.node, options.focusOptions);\n    }\n};\n/**\n * focuses first element in the tab-order\n * @param {FocusNextOptions} options - focus options\n */\nexport var focusFirstElement = function (scope, options) {\n    if (options === void 0) { options = {}; }\n    pickBoundary(scope, options, 'first');\n};\n/**\n * focuses last element in the tab order\n * @param {FocusNextOptions} options - focus options\n */\nexport var focusLastElement = function (scope, options) {\n    if (options === void 0) { options = {}; }\n    pickBoundary(scope, options, 'last');\n};\n","export function deferAction(action) {\n  setTimeout(action, 1);\n}\nexport var inlineProp = function inlineProp(name, value) {\n  var obj = {};\n  obj[name] = value;\n  return obj;\n};\nexport var extractRef = function extractRef(ref) {\n  return ref && 'current' in ref ? ref.current : ref;\n};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport withSideEffect from 'react-clientside-effect';\nimport { moveFocusInside, focusInside, focusIsHidden, expandFocusableNodes, getFocusableNodes, focusNextElement, focusPrevElement, focusFirstElement, focusLastElement, captureFocusRestore } from 'focus-lock';\nimport { deferAction, extractRef } from './util';\nimport { mediumFocus, mediumBlur, mediumEffect } from './medium';\nvar focusOnBody = function focusOnBody() {\n  return document && document.activeElement === document.body;\n};\nvar isFreeFocus = function isFreeFocus() {\n  return focusOnBody() || focusIsHidden();\n};\nvar lastActiveTrap = null;\nvar lastActiveFocus = null;\nvar tryRestoreFocus = function tryRestoreFocus() {\n  return null;\n};\nvar lastPortaledElement = null;\nvar focusWasOutsideWindow = false;\nvar windowFocused = false;\nvar defaultWhitelist = function defaultWhitelist() {\n  return true;\n};\nvar focusWhitelisted = function focusWhitelisted(activeElement) {\n  return (lastActiveTrap.whiteList || defaultWhitelist)(activeElement);\n};\nvar recordPortal = function recordPortal(observerNode, portaledElement) {\n  lastPortaledElement = {\n    observerNode: observerNode,\n    portaledElement: portaledElement\n  };\n};\nvar focusIsPortaledPair = function focusIsPortaledPair(element) {\n  return lastPortaledElement && lastPortaledElement.portaledElement === element;\n};\nfunction autoGuard(startIndex, end, step, allNodes) {\n  var lastGuard = null;\n  var i = startIndex;\n  do {\n    var item = allNodes[i];\n    if (item.guard) {\n      if (item.node.dataset.focusAutoGuard) {\n        lastGuard = item;\n      }\n    } else if (item.lockItem) {\n      if (i !== startIndex) {\n        return;\n      }\n      lastGuard = null;\n    } else {\n      break;\n    }\n  } while ((i += step) !== end);\n  if (lastGuard) {\n    lastGuard.node.tabIndex = 0;\n  }\n}\nvar focusWasOutside = function focusWasOutside(crossFrameOption) {\n  if (crossFrameOption) {\n    return Boolean(focusWasOutsideWindow);\n  }\n  return focusWasOutsideWindow === 'meanwhile';\n};\nvar checkInHost = function checkInHost(check, el, boundary) {\n  return el && (el.host === check && (!el.activeElement || boundary.contains(el.activeElement)) || el.parentNode && checkInHost(check, el.parentNode, boundary));\n};\nvar withinHost = function withinHost(activeElement, workingArea) {\n  return workingArea.some(function (area) {\n    return checkInHost(activeElement, area, area);\n  });\n};\nvar getNodeFocusables = function getNodeFocusables(nodes) {\n  return getFocusableNodes(nodes, new Map());\n};\nvar isNotFocusable = function isNotFocusable(node) {\n  return !getNodeFocusables([node.parentNode]).some(function (el) {\n    return el.node === node;\n  });\n};\nvar activateTrap = function activateTrap() {\n  var result = false;\n  if (lastActiveTrap) {\n    var _lastActiveTrap = lastActiveTrap,\n      observed = _lastActiveTrap.observed,\n      persistentFocus = _lastActiveTrap.persistentFocus,\n      autoFocus = _lastActiveTrap.autoFocus,\n      shards = _lastActiveTrap.shards,\n      crossFrame = _lastActiveTrap.crossFrame,\n      focusOptions = _lastActiveTrap.focusOptions,\n      noFocusGuards = _lastActiveTrap.noFocusGuards;\n    var workingNode = observed || lastPortaledElement && lastPortaledElement.portaledElement;\n    if (focusOnBody() && lastActiveFocus && lastActiveFocus !== document.body) {\n      if (!document.body.contains(lastActiveFocus) || isNotFocusable(lastActiveFocus)) {\n        var newTarget = tryRestoreFocus();\n        if (newTarget) {\n          newTarget.focus();\n        }\n      }\n    }\n    var activeElement = document && document.activeElement;\n    if (workingNode) {\n      var workingArea = [workingNode].concat(shards.map(extractRef).filter(Boolean));\n      var shouldForceRestoreFocus = function shouldForceRestoreFocus() {\n        if (!focusWasOutside(crossFrame) || !noFocusGuards || !lastActiveFocus || windowFocused) {\n          return false;\n        }\n        var nodes = getNodeFocusables(workingArea);\n        var lastIndex = nodes.findIndex(function (_ref) {\n          var node = _ref.node;\n          return node === lastActiveFocus;\n        });\n        return lastIndex === 0 || lastIndex === nodes.length - 1;\n      };\n      if (!activeElement || focusWhitelisted(activeElement)) {\n        if (persistentFocus || shouldForceRestoreFocus() || !isFreeFocus() || !lastActiveFocus && autoFocus) {\n          if (workingNode && !(focusInside(workingArea) || activeElement && withinHost(activeElement, workingArea) || focusIsPortaledPair(activeElement, workingNode))) {\n            if (document && !lastActiveFocus && activeElement && !autoFocus) {\n              if (activeElement.blur) {\n                activeElement.blur();\n              }\n              document.body.focus();\n            } else {\n              result = moveFocusInside(workingArea, lastActiveFocus, {\n                focusOptions: focusOptions\n              });\n              lastPortaledElement = {};\n            }\n          }\n          lastActiveFocus = document && document.activeElement;\n          if (lastActiveFocus !== document.body) {\n            tryRestoreFocus = captureFocusRestore(lastActiveFocus);\n          }\n          focusWasOutsideWindow = false;\n        }\n      }\n      if (document && activeElement !== document.activeElement && document.querySelector('[data-focus-auto-guard]')) {\n        var newActiveElement = document && document.activeElement;\n        var allNodes = expandFocusableNodes(workingArea);\n        var focusedIndex = allNodes.map(function (_ref2) {\n          var node = _ref2.node;\n          return node;\n        }).indexOf(newActiveElement);\n        if (focusedIndex > -1) {\n          allNodes.filter(function (_ref3) {\n            var guard = _ref3.guard,\n              node = _ref3.node;\n            return guard && node.dataset.focusAutoGuard;\n          }).forEach(function (_ref4) {\n            var node = _ref4.node;\n            return node.removeAttribute('tabIndex');\n          });\n          autoGuard(focusedIndex, allNodes.length, +1, allNodes);\n          autoGuard(focusedIndex, -1, -1, allNodes);\n        }\n      }\n    }\n  }\n  return result;\n};\nvar onTrap = function onTrap(event) {\n  if (activateTrap() && event) {\n    event.stopPropagation();\n    event.preventDefault();\n  }\n};\nvar onBlur = function onBlur() {\n  return deferAction(activateTrap);\n};\nvar onFocus = function onFocus(event) {\n  var source = event.target;\n  var currentNode = event.currentTarget;\n  if (!currentNode.contains(source)) {\n    recordPortal(currentNode, source);\n  }\n};\nvar FocusWatcher = function FocusWatcher() {\n  return null;\n};\nvar FocusTrap = function FocusTrap(_ref5) {\n  var children = _ref5.children;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    onBlur: onBlur,\n    onFocus: onFocus\n  }, children);\n};\nFocusTrap.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  children: PropTypes.node.isRequired\n} : {};\nvar onWindowFocus = function onWindowFocus() {\n  windowFocused = true;\n};\nvar onWindowBlur = function onWindowBlur() {\n  windowFocused = false;\n  focusWasOutsideWindow = 'just';\n  deferAction(function () {\n    focusWasOutsideWindow = 'meanwhile';\n  });\n};\nvar attachHandler = function attachHandler() {\n  document.addEventListener('focusin', onTrap);\n  document.addEventListener('focusout', onBlur);\n  window.addEventListener('focus', onWindowFocus);\n  window.addEventListener('blur', onWindowBlur);\n};\nvar detachHandler = function detachHandler() {\n  document.removeEventListener('focusin', onTrap);\n  document.removeEventListener('focusout', onBlur);\n  window.removeEventListener('focus', onWindowFocus);\n  window.removeEventListener('blur', onWindowBlur);\n};\nfunction reducePropsToState(propsList) {\n  return propsList.filter(function (_ref6) {\n    var disabled = _ref6.disabled;\n    return !disabled;\n  });\n}\nvar focusLockAPI = {\n  moveFocusInside: moveFocusInside,\n  focusInside: focusInside,\n  focusNextElement: focusNextElement,\n  focusPrevElement: focusPrevElement,\n  focusFirstElement: focusFirstElement,\n  focusLastElement: focusLastElement,\n  captureFocusRestore: captureFocusRestore\n};\nfunction handleStateChangeOnClient(traps) {\n  var trap = traps.slice(-1)[0];\n  if (trap && !lastActiveTrap) {\n    attachHandler();\n  }\n  var lastTrap = lastActiveTrap;\n  var sameTrap = lastTrap && trap && trap.id === lastTrap.id;\n  lastActiveTrap = trap;\n  if (lastTrap && !sameTrap) {\n    lastTrap.onDeactivation();\n    if (!traps.filter(function (_ref7) {\n      var id = _ref7.id;\n      return id === lastTrap.id;\n    }).length) {\n      lastTrap.returnFocus(!trap);\n    }\n  }\n  if (trap) {\n    lastActiveFocus = null;\n    if (!sameTrap || lastTrap.observed !== trap.observed) {\n      trap.onActivation(focusLockAPI);\n    }\n    activateTrap(true);\n    deferAction(activateTrap);\n  } else {\n    detachHandler();\n    lastActiveFocus = null;\n  }\n}\nmediumFocus.assignSyncMedium(onFocus);\nmediumBlur.assignMedium(onBlur);\nmediumEffect.assignMedium(function (cb) {\n  return cb(focusLockAPI);\n});\nexport default withSideEffect(reducePropsToState, handleStateChangeOnClient)(FocusWatcher);","import { FOCUS_ALLOW } from './constants';\nimport { contains } from './utils/DOMutils';\nimport { toArray } from './utils/array';\nimport { getActiveElement } from './utils/getActiveElement';\n/**\n * checks if focus is hidden FROM the focus-lock\n * ie contained inside a node focus-lock shall ignore\n *\n * This is a utility function coupled with {@link FOCUS_ALLOW} constant\n *\n * @returns {boolean} focus is currently is in \"allow\" area\n */\nexport var focusIsHidden = function (inDocument) {\n    if (inDocument === void 0) { inDocument = document; }\n    var activeElement = getActiveElement(inDocument);\n    if (!activeElement) {\n        return false;\n    }\n    // this does not support setting FOCUS_ALLOW within shadow dom\n    return toArray(inDocument.querySelectorAll(\"[\".concat(FOCUS_ALLOW, \"]\"))).some(function (node) { return contains(node, activeElement); });\n};\n","import { getAllAffectedNodes } from './utils/all-affected';\nimport { isGuard, isNotAGuard } from './utils/is';\nimport { getTopCommonParent } from './utils/parenting';\nimport { orderByTabIndex } from './utils/tabOrder';\nimport { getFocusables } from './utils/tabUtils';\n/**\n * traverses all related nodes (including groups) returning a list of all nodes(outer and internal) with meta information\n * This is low-level API!\n * @returns list of focusable elements inside a given top(!) node.\n * @see {@link getFocusableNodes} providing a simpler API\n */\nexport var expandFocusableNodes = function (topNode) {\n    var entries = getAllAffectedNodes(topNode).filter(isNotAGuard);\n    var commonParent = getTopCommonParent(topNode, topNode, entries);\n    var outerNodes = orderByTabIndex(getFocusables([commonParent], true), true, true);\n    var innerElements = getFocusables(entries, false);\n    return outerNodes.map(function (_a) {\n        var node = _a.node, index = _a.index;\n        return ({\n            node: node,\n            index: index,\n            lockItem: innerElements.indexOf(node) >= 0,\n            guard: isGuard(node),\n        });\n    });\n};\n","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport React, { forwardRef } from 'react';\nimport FocusLockUI from './Lock';\nimport FocusTrap from './Trap';\nvar FocusLockCombination = /*#__PURE__*/forwardRef(function FocusLockUICombination(props, ref) {\n  return /*#__PURE__*/React.createElement(FocusLockUI, _extends({\n    sideCar: FocusTrap,\n    ref: ref\n  }, props));\n});\nvar _ref = FocusLockUI.propTypes || {},\n  sideCar = _ref.sideCar,\n  propTypes = _objectWithoutPropertiesLoose(_ref, [\"sideCar\"]);\nFocusLockCombination.propTypes = process.env.NODE_ENV !== \"production\" ? propTypes : {};\nexport default FocusLockCombination;","import FocusLock from './Combination';\nexport * from './UI';\nexport default FocusLock;","import { isFocusable, isTabbable } from './tabbable.mjs';\n\nconst focusableElList = [\n  \"input:not(:disabled):not([disabled])\",\n  \"select:not(:disabled):not([disabled])\",\n  \"textarea:not(:disabled):not([disabled])\",\n  \"embed\",\n  \"iframe\",\n  \"object\",\n  \"a[href]\",\n  \"area[href]\",\n  \"button:not(:disabled):not([disabled])\",\n  \"[tabindex]\",\n  \"audio[controls]\",\n  \"video[controls]\",\n  \"*[tabindex]:not([aria-disabled])\",\n  \"*[contenteditable]\"\n];\nconst focusableElSelector = focusableElList.join();\nconst isVisible = (el) => el.offsetWidth > 0 && el.offsetHeight > 0;\nfunction getAllFocusable(container) {\n  const focusableEls = Array.from(\n    container.querySelectorAll(focusableElSelector)\n  );\n  focusableEls.unshift(container);\n  return focusableEls.filter((el) => isFocusable(el) && isVisible(el));\n}\nfunction getFirstFocusable(container) {\n  const allFocusable = getAllFocusable(container);\n  return allFocusable.length ? allFocusable[0] : null;\n}\nfunction getAllTabbable(container, fallbackToFocusable) {\n  const allFocusable = Array.from(\n    container.querySelectorAll(focusableElSelector)\n  );\n  const allTabbable = allFocusable.filter(isTabbable);\n  if (isTabbable(container)) {\n    allTabbable.unshift(container);\n  }\n  if (!allTabbable.length && fallbackToFocusable) {\n    return allFocusable;\n  }\n  return allTabbable;\n}\nfunction getFirstTabbableIn(container, fallbackToFocusable) {\n  const [first] = getAllTabbable(container, fallbackToFocusable);\n  return first || null;\n}\nfunction getLastTabbableIn(container, fallbackToFocusable) {\n  const allTabbable = getAllTabbable(container, fallbackToFocusable);\n  return allTabbable[allTabbable.length - 1] || null;\n}\nfunction getNextTabbable(container, fallbackToFocusable) {\n  const allFocusable = getAllFocusable(container);\n  const index = allFocusable.indexOf(document.activeElement);\n  const slice = allFocusable.slice(index + 1);\n  return slice.find(isTabbable) || allFocusable.find(isTabbable) || (fallbackToFocusable ? slice[0] : null);\n}\nfunction getPreviousTabbable(container, fallbackToFocusable) {\n  const allFocusable = getAllFocusable(container).reverse();\n  const index = allFocusable.indexOf(document.activeElement);\n  const slice = allFocusable.slice(index + 1);\n  return slice.find(isTabbable) || allFocusable.find(isTabbable) || (fallbackToFocusable ? slice[0] : null);\n}\n\nexport { getAllFocusable, getAllTabbable, getFirstFocusable, getFirstTabbableIn, getLastTabbableIn, getNextTabbable, getPreviousTabbable };\n","'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport ReactFocusLock from 'react-focus-lock';\nimport { getAllFocusable } from '@chakra-ui/utils';\nimport { useCallback } from 'react';\n\nconst FocusTrap = ReactFocusLock.default ?? ReactFocusLock;\nconst FocusLock = (props) => {\n  const {\n    initialFocusRef,\n    finalFocusRef,\n    contentRef,\n    restoreFocus,\n    children,\n    isDisabled,\n    autoFocus,\n    persistentFocus,\n    lockFocusAcrossFrames\n  } = props;\n  const onActivation = useCallback(() => {\n    if (initialFocusRef?.current) {\n      initialFocusRef.current.focus();\n    } else if (contentRef?.current) {\n      const focusables = getAllFocusable(contentRef.current);\n      if (focusables.length === 0) {\n        requestAnimationFrame(() => {\n          contentRef.current?.focus();\n        });\n      }\n    }\n  }, [initialFocusRef, contentRef]);\n  const onDeactivation = useCallback(() => {\n    finalFocusRef?.current?.focus();\n  }, [finalFocusRef]);\n  const returnFocus = restoreFocus && !finalFocusRef;\n  return /* @__PURE__ */ jsx(\n    FocusTrap,\n    {\n      crossFrame: lockFocusAcrossFrames,\n      persistentFocus,\n      autoFocus,\n      disabled: isDisabled,\n      onActivation,\n      onDeactivation,\n      returnFocus,\n      children\n    }\n  );\n};\nFocusLock.displayName = \"FocusLock\";\n\nexport { FocusLock };\n","'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { usePresence } from 'framer-motion';\nimport { useEffect } from 'react';\nimport { RemoveScroll } from 'react-remove-scroll';\nimport { useModalContext } from './modal.mjs';\nimport { useModalManager } from './modal-manager.mjs';\nimport { FocusLock } from '../focus-lock/focus-lock.mjs';\n\nfunction ModalFocusScope(props) {\n  const {\n    autoFocus,\n    trapFocus,\n    dialogRef,\n    initialFocusRef,\n    blockScrollOnMount,\n    allowPinchZoom,\n    finalFocusRef,\n    returnFocusOnClose,\n    preserveScrollBarGap,\n    lockFocusAcrossFrames,\n    isOpen\n  } = useModalContext();\n  const [isPresent, safeToRemove] = usePresence();\n  useEffect(() => {\n    if (!isPresent && safeToRemove) {\n      setTimeout(safeToRemove);\n    }\n  }, [isPresent, safeToRemove]);\n  const index = useModalManager(dialogRef, isOpen);\n  return /* @__PURE__ */ jsx(\n    FocusLock,\n    {\n      autoFocus,\n      isDisabled: !trapFocus,\n      initialFocusRef,\n      finalFocusRef,\n      restoreFocus: returnFocusOnClose,\n      contentRef: dialogRef,\n      lockFocusAcrossFrames,\n      children: /* @__PURE__ */ jsx(\n        RemoveScroll,\n        {\n          removeScrollBar: !preserveScrollBarGap,\n          allowPinchZoom,\n          enabled: index === 1 && blockScrollOnMount,\n          forwardProps: true,\n          children: props.children\n        }\n      )\n    }\n  );\n}\n\nexport { ModalFocusScope };\n"],"names":["_excluded","fadeConfig","initial","animate","exit","variants","enter","_transition$enter","transition","transitionEnd","delay","arguments","length","undefined","opacity","withDelay","TRANSITION_DEFAULTS","_transition$exit","forwardRef","props","ref","unmountOnExit","in","isOpen","className","animatePresenceProps","rest","_objectWithoutProperties","show","custom","jsx","AnimatePresence","_objectSpread","children","motion","div","cx","displayName","MotionDiv","chakra","ModalOverlay","motionProps","_motionProps","_className","styles","useModalStyles","overlayStyle","pos","left","top","w","h","overlay","motionPreset","useModalContext","__css","TRANSITION_EASINGS","ease","easeIn","easeOut","easeInOut","TRANSITION_VARIANTS","scale","fade","pushLeft","x","pushRight","pushUp","y","pushDown","slideLeft","position","bottom","width","slideRight","right","slideUp","maxWidth","slideDown","getSlideTransition","options","_options$direction","direction","duration","__defProp","Object","defineProperty","__publicField","obj","key","value","__defNormalProp","enumerable","configurable","writable","modalManager","constructor","this","modals","Set","add","modal","size","remove","delete","isTopModal","Array","from","useModalManager","index","setIndex","useState","useEffect","node","current","index2","ModalCloseButton","onClick","onClose","CloseButton","closeButton","callAllHandlers","event","stopPropagation","getDefaultParent","originalTarget","document","isArray","ownerDocument","body","counterMap","WeakMap","uncontrolledNodes","markerMap","lockCount","unwrapHost","host","parentNode","applyAttributeToOthers","markerName","controlAttribute","targets","parent","map","target","contains","correctedTarget","console","error","filter","Boolean","correctTargets","markerCounter","hiddenNodes","elementsToKeep","elementsToStop","keep","el","has","forEach","deep","prototype","call","attr","getAttribute","alreadyHidden","counterValue","get","markerValue","set","push","setAttribute","e","clear","removeAttribute","hideOthers","activeParentNode","apply","querySelectorAll","useModal","id","closeOnOverlayClick","closeOnEsc","useInert","onOverlayClick","onOverlayClickProp","onEsc","dialogRef","useRef","overlayRef","dialogId","headerId","bodyId","idProp","_len","prefixes","_key","reactId","useId","useMemo","prefix","concat","useIds","shouldHide","currentElement","useAriaHidden","mouseDownTarget","onMouseDown","useCallback","onKeyDown","headerMounted","setHeaderMounted","bodyMounted","setBodyMounted","getDialogProps","props2","role","mergeRefs","tabIndex","getDialogContainerProps","ModalStylesProvider","createContext","name","errorMessage","ModalContextProvider","strict","Modal","_props$lockFocusAcros","modalProps","scrollBehavior","autoFocus","trapFocus","returnFocusOnClose","blockScrollOnMount","allowPinchZoom","preserveScrollBarGap","lockFocusAcrossFrames","portalProps","initialFocusRef","finalFocusRef","onCloseComplete","useMultiStyleConfig","context","onExitComplete","Portal","zeroRightClassName","fullWidthClassName","assignRef","useIsomorphicLayoutEffect","window","React","currentValues","useMergeRefs","refs","defaultValue","callbackRef","initialValue","callback","facade","last","useCallbackRef","newValue","oldValue","prevRefs_1","nextRefs_1","current_1","ItoI","a","innerCreateMedium","defaults","middleware","buffer","assigned","read","Error","useMedium","data","item","assignSyncMedium","cb","cbs","assignMedium","pendingQueue","executeQueue","cycle","Promise","resolve","then","createMedium","createSidecarMedium","medium","__assign","async","ssr","effectCar","nothing","RemoveScroll","parentRef","_a","onScrollCapture","onWheelCapture","onTouchMoveCapture","callbacks","setCallbacks","forwardProps","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","_b","as","Container","gapMode","__rest","SideCar","containerRef","containerProps","lockRef","only","defaultProps","classNames","fullWidth","zeroRight","currentNonce","Target","isSideCarExport","makeStyleTag","tag","createElement","type","nonce","__webpack_nonce__","stylesheetSingleton","counter","stylesheet","style","css","styleSheet","cssText","appendChild","createTextNode","head","getElementsByTagName","insertStyleTag","removeChild","styleSingleton","useStyle","sheet","isDynamic","styleHookSingleton","dynamic","zeroGap","gap","parse","parseInt","getGapWidth","offsets","cs","getComputedStyle","getOffset","documentWidth","documentElement","clientWidth","windowWidth","innerWidth","Math","max","Style","lockAttribute","getStyles","allowRelative","important","join","getCurrentUseCounter","isFinite","RemoveScrollBar","noImportant","toString","newCounter","passiveSupported","addEventListener","removeEventListener","err","nonPassive","passive","elementCanBeScrolled","overflow","Element","overflowY","overflowX","tagName","alwaysContainsScroll","locationCouldBeScrolled","axis","ShadowRoot","elementCouldBeScrolled","getScrollVariables","elementCouldBeVScrolled","elementCouldBeHScrolled","scrollTop","scrollHeight","clientHeight","scrollLeft","scrollWidth","getHScrollVariables","getTouchXY","changedTouches","clientX","clientY","getDeltaXY","deltaX","deltaY","extractRef","generateStyle","idCounter","lockStack","getOutermostShadowParent","shadowParent","exported","shouldPreventQueue","touchStartRef","activeAxis","lastProps","classList","allow_1","__spreadArray","shouldCancelEvent","touches","ctrlKey","currentAxis","touch","touchStart","moveDirection","abs","canBeScrolledInMainDirection","cancelingAxis","endTarget","sourceDelta","noOverscroll","directionFactor","getDirectionFactor","delta","targetInLock","shouldCancelScroll","isDeltaPositive","availableScroll","availableScrollTop","elementScroll","parent_1","nodeType","Node","DOCUMENT_FRAGMENT_NODE","handleScroll","shouldPrevent","_event","sourceEvent","should","cancelable","preventDefault","shardNodes","shouldCancel","setTimeout","scrollTouchStart","scrollWheel","scrollTouchMove","inst","ReactRemoveScroll","FOCUS_GROUP","FOCUS_DISABLED","hiddenGuard","height","padding","InFocusGuard","_ref","_ref$children","Fragment","propTypes","mediumFocus","currentTarget","mediumBlur","mediumEffect","mediumSidecar","focusScope","emptyArray","FocusLock","_extends2","_useState","realObserved","setObserved","observed","isActive","originalFocusedElement","update","_props$disabled","disabled","_props$noFocusGuards","noFocusGuards","_props$persistentFocu","persistentFocus","_props$crossFrame","crossFrame","_props$autoFocus","group","allowTextSelection","whiteList","hasPositiveIndices","_props$shards","_props$as","_props$lockProps","lockProps","_props$returnFocus","returnFocus","shouldReturnFocus","focusOptions","onActivationCallback","onActivation","onDeactivationCallback","onDeactivation","captureFocusRestore","_document","activeElement","allowDefer","focusRestore","returnFocusTo","howToReturnFocus","returnFocusOptions","focus","onFocus","onBlur","setObserveNode","newObserved","_extends","hasLeadingGuards","hasTailingGuards","mergedRef","focusScopeValue","active","Provider","_setPrototypeOf","t","setPrototypeOf","bind","__proto__","reducePropsToState","handleStateChangeOnClient","WrappedComponent","state","mountedInstances","emitChange","instance","SideEffect","_PureComponent","o","create","peek","_proto","componentDidMount","componentDidUpdate","componentWillUnmount","indexOf","splice","render","PureComponent","_defineProperty","getDisplayName","toArray","ret","i","asArray","getFirst","getParentNode","isTopNode","DOCUMENT_NODE","isVisibleUncached","checkParent","ELEMENT_NODE","computedStyle","getPropertyValue","isElementHidden","hasAttribute","isInert","isVisibleCached","visibilityCache","cached","result","isAutoFocusAllowedCached","cache","isAutoFocusAllowed","isAutoFocusAllowedUncached","getDataset","dataset","isHTMLInputElement","isRadioElement","attribute","includes","isGuard","focusGuard","isNotAGuard","isDefined","tabSort","b","aTab","bTab","tabDiff","indexDiff","orderByTabIndex","nodes","filterNegative","keepGuards","getTabIndex","sort","queryTabbables","queryGuardTabbables","getFocusablesWithShadowDom","withGuards","shadowRoot","reduce","acc","child","matches","getFocusables","parents","focusableWithShadowDom","focusableWithIframes","HTMLIFrameElement","contentDocument","getFocusablesWithIFrame","filterFocusable","isHTMLButtonElement","notHiddenInput","filterAutoFocusable","Map","getTabbableNodes","topNodes","getFocusableNodes","parentAutofocusables","topNode","parentFocus","getParentAutofocusables","scope","element","getPrototypeOf","some","iframeBody","getActiveElement","inDocument","safeProbe","contentWindow","getTopParent","getAllAffectedNodes","currentNode","contained","l","j","compareDocumentPosition","DOCUMENT_POSITION_CONTAINED_BY","DOCUMENT_POSITION_CONTAINS","_","filterNested","focusInside","frame","focusInFrame","focusInsideIframe","focusOn","correctNode","checked","findSelectedRadio","pickFirstFocus","pickFocusable","NEW_FOCUS","newFocus","innerNodes","innerTabbables","outerNodes","lastNode","cnt","firstFocus","lastFocus","isOnGuard","activeIndex","lastIndex","lastNodeInside","firstNodeIndex","lastNodeIndex","correctedNodes","resultSet","correctNodes","currentFocusableIndex","previousFocusableIndex","tabbableNodes","currentTabbableIndex","previousTabbableIndex","focusIndexDiff","returnFirstNode","returnLastNode","pickAutofocus","nodesIndexes","orderedNodes","groups","autoFocusables","autoFocusable","autofocus","getParents","getCommonParent","nodeA","nodeB","parentsA","parentsB","currentParent","getTopCommonParent","baseActiveElement","leftEntry","rightEntries","activeElements","leftEntries","topCommon","entry","subEntry","common","allParentAutofocusables","entries","focusSolver","commonParent","anyFocusable","innerElements","orderedInnerElements","srcNodes","dstNodes","remap","entity","reorderNodes","innerFocusables","innerTabbable","newId","focusNode","warn","guardCount","lockDisabled","moveFocusInside","focusable","weakRef","WeakRef","deref","targetElement","location","stack","parentElement","previousElementSibling","nextElementSibling","recordElementLocation","_c","_d","_e","_i","stack_1","line","savedCurrent","focusables","aim","_f","focusables_1","restoreFocusTo","moveFocus","fromElement","newOptions","assign","onlyTabbable","defaultOptions","solution","useTabbables","every","shard","findIndex","prev","next","first","getRelativeFocusable","pickBoundary","what","getBoundary","deferAction","action","focusOnBody","isFreeFocus","focusIsHidden","lastActiveTrap","lastActiveFocus","tryRestoreFocus","lastPortaledElement","focusWasOutsideWindow","windowFocused","defaultWhitelist","autoGuard","startIndex","end","step","allNodes","lastGuard","guard","focusAutoGuard","lockItem","checkInHost","check","boundary","getNodeFocusables","activateTrap","_lastActiveTrap","workingNode","portaledElement","newTarget","workingArea","focusWhitelisted","shouldForceRestoreFocus","area","withinHost","blur","querySelector","newActiveElement","expandFocusableNodes","focusedIndex","_ref2","_ref3","_ref4","onTrap","source","observerNode","onWindowFocus","onWindowBlur","focusLockAPI","focusNextElement","focusPrevElement","focusFirstElement","focusLastElement","withSideEffect","propsList","_ref6","traps","trap","slice","lastTrap","sameTrap","_ref7","FocusLockCombination","FocusLockUI","FocusTrap","_objectWithoutPropertiesLoose","focusableElSelector","getAllFocusable","container","focusableEls","unshift","isFocusable","offsetWidth","offsetHeight","isVisible","_ReactFocusLock$defau","ReactFocusLock","contentRef","restoreFocus","isDisabled","requestAnimationFrame","_contentRef$current","_finalFocusRef$curren","ModalFocusScope","isPresent","safeToRemove","usePresence"],"sourceRoot":""}